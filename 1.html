
<!-- saved from url=(0023)https://fandommap.com/1 -->
<html class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="shortcut icon" href="./1_files/icon_blue.png">


  <title>Fandom Map</title>
  <script src="./1_files/cb=gapi.loaded_2" async=""></script><script src="./1_files/cb=gapi.loaded_1" async=""></script><script src="./1_files/cb=gapi.loaded_0" async=""></script><script src="./1_files/api_client.js.download" gapi_processed="true"></script>
  <meta name="google-signin-scope" content="profile email">
  <meta name="google-signin-client_id" content="507651740228-f5clg8q3qlf66se0e40m5p2hthr4djtb.apps.googleusercontent.com">
  <script src="./1_files/platform.js.download" async="" defer="" gapi_processed="true"></script>
  <script src="./1_files/client" async="" defer=""></script>
  <script src="./1_files/showdown.min.js.download"></script>
  <link rel="stylesheet" href="./1_files/w3.css">
  <link rel="stylesheet" href="./1_files/fullpage.css">
  <link rel="stylesheet" href="./1_files/jquery.dataTables.min.css">
  <script src="./1_files/fullpage.min.js.download"></script>
  <script src="./1_files/jquery.min.js.download"></script>
  <script src="./1_files/jquery.dataTables.min.js.download"></script>
  <script src="./1_files/konva.min.js.download"></script>
  <script src="./1_files/jquery-ui.js.download"></script>
  <link rel="stylesheet" href="./1_files/jquery-ui.css">
  <link rel="stylesheet" type="text/css" href="./1_files/index.css">
  <link href="./1_files/select2.min.css" rel="stylesheet">
  <script src="./1_files/select2.min.js.download"></script>
<style id="googleidentityservice_button_styles">.qJTHM{-webkit-user-select:none;color:#202124;direction:ltr;-webkit-touch-callout:none;font-family:'Roboto-Regular',arial,sans-serif;-webkit-font-smoothing:antialiased;font-weight:400;margin:0;overflow:hidden;-webkit-text-size-adjust:100%}.ynRLnc{left:-9999px;position:absolute;top:-9999px}.L6cTce{display:none}.bltWBb{word-break:break-all}.hSRGPd{color:#1a73e8;cursor:pointer;font-weight:500;text-decoration:none}.Bz112c-W3lGp{height:16px;width:16px}.Bz112c-E3DyYd{height:20px;width:20px}.Bz112c-r9oPif{height:24px;width:24px}.Bz112c-uaxL4e{-webkit-border-radius:10px;border-radius:10px}.LgbsSe-Bz112c{display:block}.S9gUrf-YoZ4jf,.S9gUrf-YoZ4jf *{border:none;margin:0;padding:0}.fFW7wc-ibnC6b>.aZ2wEe>div{border-color:#4285f4}.P1ekSe-ZMv3u>div:nth-child(1){background-color:#1a73e8!important}.P1ekSe-ZMv3u>div:nth-child(2),.P1ekSe-ZMv3u>div:nth-child(3){background-image:linear-gradient(to right,rgba(255,255,255,0.7),rgba(255,255,255,0.7)),linear-gradient(to right,#1a73e8,#1a73e8)!important}.haAclf{display:inline-block}.nsm7Bb-HzV7m-LgbsSe{-webkit-border-radius:4px;border-radius:4px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s;transition:background-color .218s,border-color .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dadce0;color:#3c4043;cursor:pointer;font-family:'Google Sans',arial,sans-serif;font-size:14px;height:40px;letter-spacing:0.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}@media screen and (-ms-high-contrast:active){.nsm7Bb-HzV7m-LgbsSe{border:2px solid windowText;color:windowText}}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe{font-size:14px;height:32px;letter-spacing:0.25px;padding:0 10px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe{font-size:11px;height:20px;letter-spacing:0.3px;padding:0 8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe{padding:0;width:40px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe{width:32px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe{width:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK{-webkit-border-radius:20px;border-radius:20px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.pSzOP-SxQuSe{-webkit-border-radius:16px;border-radius:16px}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK.purZT-SxQuSe{-webkit-border-radius:10px;border-radius:10px}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc{border:none;color:#fff}.nsm7Bb-HzV7m-LgbsSe.MFS4be-v3pZbf-Ia7Qfc{background-color:#1a73e8}.nsm7Bb-HzV7m-LgbsSe.MFS4be-JaPV2b-Ia7Qfc{background-color:#202124;color:#e8eaed}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:18px;margin-right:8px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:14px;min-width:14px;width:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{height:10px;min-width:10px;width:10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin-left:8px;margin-right:-4px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:10px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:8px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c{padding:4px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:3px;border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;border-bottom-left-radius:3px;display:-webkit-box;display:-webkit-flex;display:flex;justify-content:center;-webkit-align-items:center;align-items:center;background-color:#fff;height:36px;margin-left:-10px;margin-right:12px;min-width:36px;width:36px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c,.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf .nsm7Bb-HzV7m-LgbsSe-Bz112c{margin:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:28px;margin-left:-8px;margin-right:10px;min-width:28px;width:28px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{height:16px;margin-left:-6px;margin-right:8px;min-width:16px;width:16px}.nsm7Bb-HzV7m-LgbsSe.Bz112c-LgbsSe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:3px;border-radius:3px;margin-left:2px;margin-right:0;padding:0}.nsm7Bb-HzV7m-LgbsSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.nsm7Bb-HzV7m-LgbsSe.pSzOP-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:14px;border-radius:14px}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:8px;border-radius:8px}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-bN97Pc-sM5MNb{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;-webkit-flex-direction:row;flex-direction:row;justify-content:space-between;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;height:100%;position:relative;width:100%}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX{justify-content:center}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:1;flex-grow:1;font-family:'Google Sans',arial,sans-serif;font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.nsm7Bb-HzV7m-LgbsSe.purZT-SxQuSe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-weight:300}.nsm7Bb-HzV7m-LgbsSe .oXtfBe-l4eHX .nsm7Bb-HzV7m-LgbsSe-BPrWId{-webkit-flex-grow:0;flex-grow:0}.nsm7Bb-HzV7m-LgbsSe .nsm7Bb-HzV7m-LgbsSe-MJoBVe{-webkit-transition:background-color .218s;transition:background-color .218s;bottom:0;left:0;position:absolute;right:0;top:0}.nsm7Bb-HzV7m-LgbsSe:hover,.nsm7Bb-HzV7m-LgbsSe:focus{-webkit-box-shadow:none;box-shadow:none;border-color:#d2e3fc;outline:none}.nsm7Bb-HzV7m-LgbsSe:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,0.04)}.nsm7Bb-HzV7m-LgbsSe:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(66,133,244,0.1)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:hover .nsm7Bb-HzV7m-LgbsSe-MJoBVe,.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:focus .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,0.24)}.nsm7Bb-HzV7m-LgbsSe.MFS4be-Ia7Qfc:active .nsm7Bb-HzV7m-LgbsSe-MJoBVe{background:rgba(255,255,255,0.32)}.nsm7Bb-HzV7m-LgbsSe .n1UuX-DkfjY{-webkit-border-radius:50%;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:flex;height:20px;margin-left:-4px;margin-right:8px;min-width:20px;width:20px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId{font-family:'Roboto';font-size:12px;text-align:left}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .ssJRIf,.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .fmcmS{overflow:hidden;text-overflow:ellipsis}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center;color:#5f6368;fill:#5f6368;font-size:11px;font-weight:400}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.MFS4be-Ia7Qfc .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff{color:#e8eaed;fill:#e8eaed}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-BPrWId .K4efff .Bz112c{height:18px;margin:-3px -3px -3px 2px;min-width:18px;width:18px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-top-left-radius:0;border-top-left-radius:0;-webkit-border-bottom-left-radius:0;border-bottom-left-radius:0;-webkit-border-top-right-radius:3px;border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;border-bottom-right-radius:3px;margin-left:12px;margin-right:-10px}.nsm7Bb-HzV7m-LgbsSe.jVeSEe.JGcpL-RbRzK .nsm7Bb-HzV7m-LgbsSe-Bz112c-haAclf{-webkit-border-radius:18px;border-radius:18px}.L5Fo6c-sM5MNb{border:0;display:block;left:0;position:relative;top:0}.L5Fo6c-bF1uUb{-webkit-border-radius:4px;border-radius:4px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.L5Fo6c-bF1uUb:focus{border:none;outline:none}sentinel{}
/*# sourceURL=/_/gsi/_/ss/k=gsi.gsi.EenXw70A9X0.L.W.O/am=Qg/d=1/rs=AF0KOtXcm-fnfwb3XkAxUKtJ9LZOn9TD5w/m=gis_client_button_style */</style><style>.abcRioButton{border-radius:1px;box-shadow:0 2px 4px 0 rgba(0,0,0,.25);-moz-box-sizing:border-box;box-sizing:border-box;-webkit-transition:background-color .218s,border-color .218s,box-shadow .218s;transition:background-color .218s,border-color .218s,box-shadow .218s;-webkit-user-select:none;-webkit-appearance:none;background-color:#fff;background-image:none;color:#262626;cursor:pointer;outline:none;overflow:hidden;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:auto}.abcRioButton:hover{box-shadow:0 0 3px 3px rgba(66,133,244,.3)}.abcRioButtonBlue{border:none;color:#fff}.abcRioButtonBlue,.abcRioButtonBlue:hover{background-color:#4285f4}.abcRioButtonBlue:active{background-color:#3367d6}.abcRioButtonLightBlue{background-color:#fff;color:#757575}.abcRioButtonLightBlue:active{background-color:#eee;color:#6d6d6d}.abcRioButtonIcon{float:left}.abcRioButtonBlue .abcRioButtonIcon{background-color:#fff;border-radius:1px}.abcRioButtonSvg{display:block}.abcRioButtonContents{font-family:Roboto,arial,sans-serif;font-size:14px;font-weight:500;letter-spacing:.21px;margin-left:6px;margin-right:6px;vertical-align:top}.abcRioButtonContentWrapper{height:100%;width:100%}.abcRioButtonBlue .abcRioButtonContentWrapper{border:1px solid transparent}.abcRioButtonErrorWrapper,.abcRioButtonWorkingWrapper{display:none;height:100%;width:100%}.abcRioButtonErrorIcon,.abcRioButtonWorkingIcon{margin-left:auto;margin-right:auto}.abcRioButtonErrorState,.abcRioButtonWorkingState{border:1px solid #d5d5d5;border:1px solid rgba(0,0,0,.17);box-shadow:0 1px 0 rgba(0,0,0,.05);color:#262626}.abcRioButtonErrorState:hover,.abcRioButtonWorkingState:hover{border:1px solid #aaa;border:1px solid rgba(0,0,0,.25);box-shadow:0 1px 0 rgba(0,0,0,.1)}.abcRioButtonErrorState:active,.abcRioButtonWorkingState:active{border:1px solid #aaa;border:1px solid rgba(0,0,0,.25);box-shadow:inset 0 1px 0 #ddd;color:#262626}.abcRioButtonWorkingState,.abcRioButtonWorkingState:hover{background-color:#f5f5f5}.abcRioButtonWorkingState:active{background-color:#e5e5e5}.abcRioButtonErrorState,.abcRioButtonErrorState:hover{background-color:#fff}.abcRioButtonErrorState:active{background-color:#e5e5e5}.abcRioButtonErrorState .abcRioButtonErrorWrapper,.abcRioButtonWorkingState .abcRioButtonWorkingWrapper{display:block}.abcRioButtonErrorState .abcRioButtonContentWrapper,.abcRioButtonErrorState .abcRioButtonWorkingWrapper,.abcRioButtonWorkingState .abcRioButtonContentWrapper{display:none} .-webkit-keyframes abcRioButtonWorkingIconPathSpinKeyframes {0% {-webkit-transform: rotate(0deg)}}</style></head>
<body data-new-gr-c-s-check-loaded="14.1055.0" data-gr-ext-installed=""><div id="confirmdeletebackground"></div>
<div id="confirmdeletewindow"> To delete <a class="mapdeletename"></a>. You must enter <a class="mapdeletename"></a> below.
  Then press DELETE <br>
  <a id="mapdeletemsg">Input incorrect</a>
  <br>
  <input>
  <br>
  <button id="mapdeletecancel">CANCEL</button>
  <button id="mapdeleteconfirm">DELETE</button>
</div>
<section id="private" style="display: none;">
  <img src="./1_files/icon_blue.png"><br> This map is privated. If you are the owner of the map, please...
  <button class="important" id="signin3"><img class="g" src="./1_files/goo.png">SIGN IN</button>
</section>
<table id="header">
  <tbody><tr>
    <td id="sidebarbtn" title="Waypoints in this Map"> ☰ Waypoints</td>
    <td id="home" title="Return To Home Page">Fandom Map <img src="./1_files/icon_wht.png"> <a id="headername">One Piece (Beta)</a>
    </td>
    <td id="headersearch"><input placeholder="Search Waypoints..." list="headerlist" onchange="searching()">
      <datalist id="headerlist">
        <option value="Error"></option>
      </datalist><button> X </button>
    </td>
    <td id="solverbarbtn" title="Find Shortest Distance Through Waypoints">Route Solver <p> ⩻ </p></td>
    <td id="userbarbtn" title="Account Sign In &amp; Settings"><a>User Bar</a> <img src="./1_files/user.png"></td>
  </tr>
</tbody></table>
<div id="popupbox" style="display: none;"><a id="popupmsg">Welcome Zachary Law</a><button onclick="popupbtn()">X</button></div>
<div class="sidebar" style="width: 25%; display: none;" id="sidebar">
  <div id="sidebarclose" onclick="sidebarbtn()">X Close</div>
  <div id="mapinfo"><div><h2>One Piece (Beta)</h2><a> ▼</a><div><p>Author</p><p>Zachary Law</p><p>Creation Date</p><p>13/01/2022</p><p>Visibility</p><p>Public</p><p>Share Link 📋</p><p>fandommap.com/1</p></div></div></div>
  <div id="edit" style="display: block;">✎ Map Author only: Edit Mode</div>
  <div class="edittool" id="addcategory">+ Add Category</div>
  <div class="edittool" id="addwaypoint">+ Add Waypoint</div>
  <div class="edittool" id="addroute">+ Add Route</div>
  <input id="search" placeholder="Search Waypoints...">
  <div id="sortable"><map filename="1_map.png" scale="2" class="ui-sortable-handle"></map><div id="52" class="ui-sortable-handle" style=""><h3>🗀  </h3><h2>South Blue</h2><a> ▼</a><div style="min-height: 0px; padding-bottom: 0px;" class="ui-sortable"><aside id="53" datax="4915.639215788345" datay="4024.1227111222265" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS2FyYXRlX0lzbGFuZA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Karate Island</p></aside><aside id="54" datax="5861.933164554215" datay="2927.3922920135356" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ2VudGF1cmVh" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Centaurea</p></aside><aside id="55" datax="5587.750558886155" datay="3446.6407647773854" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG9yaW5vX0tpbmdkb20=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Torino Kingdom</p></aside><aside id="56" datax="3860.157503703338" datay="3031.7272655128136" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmF0ZXJpbGxh" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Baterilla</p></aside><aside id="57" datax="6325.3745599754475" datay="3919.7877376229485" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmxhY2tfRHJ1bV9LaW5nZG9t" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Black Drum Kingdom</p></aside></div></div><nav id="39" connector="29,16,18,19,20,21,22,24,25,26,27,28" class="ui-sortable-handle" data-select2-id="select2-data-39" style=""><h3>↬  </h3><h2>Paradise Arc</h2><a> ▼</a><br><div class="ui-sortable"><aside id="29" datax="2776.406620051326" datay="2408.1750091228087" style="" class="29 ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUmV2ZXJzZV9Nb3VudGFpbg=="><img src="./1_files/wp.png"> <p>Reverse Mountain</p></aside><aside id="16" datax="3140.8774767044715" datay="2426.33120978838" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVHdpbl9DYXBl" style="" class="16 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Twin Capes </p></aside><aside id="18" datax="3674.6843195980387" datay="2234.6460259176133" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ2FjdHVzX0lzbGFuZA==" style="" class="18 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Cactus Island</p></aside><aside id="19" datax="3550.938187836349" datay="2414.199236125673" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTGl0dGxlX0dhcmRlbg==" style="" class="19 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Little Garden </p></aside><aside id="20" datax="3890.6334514958917" datay="2329.2754204867256" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJ1bV9Jc2xhbmQ=" style="" class="20 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Drum Island</p></aside><aside id="21" datax="4220.623136193733" datay="2387.508894067718" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQXJhYmFzdGFfS2luZ2RvbQ==" style="" class="21 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Arabasta Kingdom</p></aside><aside id="22" datax="4523.9224787468975" datay="2389.9352888002586" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSmF5YQ==" style="" class="22 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Jaya</p></aside><aside id="24" datax="4713.1812685000705" datay="2465.1535255090403" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2t5cGllYQ==" style="" class="24 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Skypiea</p></aside><aside id="25" datax="5023.759795274509" datay="2355.96576254468" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9uZ19SaW5nX0xvbmdfTGFuZA==" style="" class="25 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Long Ring</p></aside><aside id="26" datax="5518.744322321271" datay="2402.067262462966" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2F0ZXJfNw==" style="" class="26 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Water 7</p></aside><aside id="27" datax="5933.6578229339975" datay="2370.5241309399285" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRmxvcmlhbl9UcmlhbmdsZQ==" style="" class="27 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Florian Triangle</p></aside><aside id="28" datax="6383.9646021983845" datay="2429.5141438252062" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2FiYW9keV9BcmNoaXBlbGFnbw==" style="" class="28 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Sabaody Archipelago</p></aside></div><select style="display: inline-block;" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true" data-select2-id="select2-data-16-gavc"><option value="false">Route Waypoint...</option></select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="select2-data-17-4lmj" style="width: 80%; display: none;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-fjy4-container"><span class="select2-selection__rendered" id="select2-fjy4-container" role="textbox" aria-readonly="true"><span class="select2-selection__placeholder">Route Waypoints...</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span></nav><nav id="41" data-select2-id="select2-data-41" connector="31,32,33,34,35,38" class="ui-sortable-handle" style=""><h3>↬  </h3><h2>New World Arc</h2><a> ▼</a><br><div class="ui-sortable"><aside id="31" datax="272.08186540865904" datay="2334.3836773387716" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUHVua19IYXphcmQ=" style="" class="31 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Punk Hazard</p></aside><aside id="32" datax="669.128277478254" datay="2374.4893753973065" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJlc3Nyb3Nh" style="" class="32 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Dressrosa</p></aside><aside id="33" datax="725.2762549426416" datay="2320.3466830182842" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvR3JlZW5fQml0" style="" class="33 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Green Bit</p></aside><aside id="34" datax="1056.1482650006371" datay="2396.5475093295" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvWm91" style="" class="34 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Zou</p></aside><aside id="35" datax="1274.724320129859" datay="2290.267409474383" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG90dG9fTGFuZA==" style="" class="35 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Totto Land</p></aside><aside id="38" datax="1649.0909598736607" datay="2302.720228721559" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2Fub19Db3VudHJ5" style="" class="38 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Wano Country</p></aside></div><select style="display: inline-block;" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true" data-select2-id="select2-data-20-kuoi"><option value="false">Route Waypoint...</option></select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="select2-data-21-twqv" style="width: 80%; display: none;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-q84p-container"><span class="select2-selection__rendered" id="select2-q84p-container" role="textbox" aria-readonly="true"><span class="select2-selection__placeholder">Route Waypoints...</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span></nav><div id="61" class="ui-sortable-handle" style=""><h3>🗀  </h3><h2>West Blue</h2><a> ▼</a><div style="min-height: 0px; padding-bottom: 0px;" class="ui-sortable"><aside id="62" datax="1464.3353370073924" datay="3669.141161751428" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT2hhcmE=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Ohara</p></aside><aside id="63" datax="1829.5077454414002" datay="3389.863128035917" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSWx1c2lh" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Ilisia Kingdom</p></aside><aside id="64" datax="1809.6113085699133" datay="3662.589895973566" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG9yb2E=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Toroa</p></aside><aside id="65" datax="2361.252137996068" datay="3448.217913948768" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTGFzX0NhbXA=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Las Camp</p></aside><aside id="66" datax="1579.2251131569917" datay="3240.0332458967205" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS2Fub19Db3VudHJ5" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Kano Country</p></aside></div></div><nav id="40" style="" class="ui-sortable-handle" data-select2-id="select2-data-40" connector="11,12,13,14,15,29"><h3>↬  </h3><h2>East Blue Arc</h2><a> ▼</a><br><div class="ui-sortable"><aside id="11" datax="5752.70661812397" datay="198.693151491352" style="" class="11 ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2hlbGxzX1Rvd24g"><img src="./1_files/wp.png"> <p>Shells Town </p></aside><aside id="12" datax="5249.659001570046" datay="696.9138936290082" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT3JhbmdlX1Rvd24g" style="" class="12 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Orange Town </p></aside><aside id="13" datax="4766.17542261738" datay="1004.7159658569756" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3lydXBfVmlsbGFnZQ==" style="" class="13 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Syrup Village </p></aside><aside id="14" datax="4193.932794049054" datay="589.550397254575" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ29jb3lhc2lfVmlsbGFnZQ==" style="" class="14 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Cocoyasi Village </p></aside><aside id="15" datax="3303.4459243129677" datay="2025.976078919056" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9ndWV0b3duIA==" style="" class="15 ui-sortable-handle"><img src="./1_files/wp.png"> <p>Loguetown </p></aside><aside id="29" datax="2776.406620051326" datay="2408.1750091228087" style="" class="29 ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUmV2ZXJzZV9Nb3VudGFpbg=="><img src="./1_files/wp.png"> <p>Reverse Mountain</p></aside></div><select style="display: inline-block;" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true" data-select2-id="select2-data-24-l2pg"><option value="false">Route Waypoint...</option></select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="select2-data-25-q21e" style="width: 80%; display: none;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-s5tv-container"><span class="select2-selection__rendered" id="select2-s5tv-container" role="textbox" aria-readonly="true"><span class="select2-selection__placeholder">Route Waypoints...</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span></nav><div id="10" class="ui-sortable-handle" style=""><h3>🗀  </h3><h2>East Blue</h2><a> ▼</a><div style="min-height: 0px; padding-bottom: 0px;" class="ui-sortable"><aside id="11" datax="5752.70661812397" datay="198.693151491352" style="" class="ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2hlbGxzX1Rvd24g"><img src="./1_files/wp.png"> <p>Shells Town </p></aside><aside id="12" datax="5249.659001570046" datay="696.9138936290082" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT3JhbmdlX1Rvd24g" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Orange Town </p></aside><aside id="13" datax="4766.17542261738" datay="1004.7159658569756" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3lydXBfVmlsbGFnZQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Syrup Village </p></aside><aside id="14" datax="4193.932794049054" datay="589.550397254575" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ29jb3lhc2lfVmlsbGFnZQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Cocoyasi Village </p></aside><aside id="15" datax="3303.4459243129677" datay="2025.976078919056" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9ndWV0b3duIA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Loguetown </p></aside><aside id="67" datax="4883.628244156834" datay="631.1510558519972" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSXNsYW5kX29mX1JhcmVfQW5pbWFscw==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Island of Rare Animals</p></aside><aside id="68" datax="4022.0301181610766" datay="1640.489478846146" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmFyYXRpZQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Baratie</p></aside><aside id="69" datax="5693.94703166927" datay="921.8088808631258" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTWlycm9yYmFsbF9Jc2xhbmQ=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Mirror Ball Island</p></aside><aside id="70" datax="4689.85636018647" datay="454.9947982694946" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS3VtYXRlX0lzbGFuZA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Kumate Island</p></aside><aside id="71" datax="3856.050071586717" datay="422.6994843793698" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT3lrb3RfS2luZ2RvbQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Oykot Kingdom</p></aside></div></div><div id="42" style="" class="ui-sortable-handle"><h3>🗀  </h3><h2>North Blue</h2><a> ▼</a><div style="min-height: 0px; padding-bottom: 0px;" class="ui-sortable"><aside id="37" datax="657.0965680215993" datay="1833.0624516070868" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvR2VybWFfS2luZ2RvbQ==" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Germa Kingdom</p></aside><aside id="43" datax="165.24806611877693" datay="1288.9798755451918" style="" class="ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTHZuZWVs"><img src="./1_files/wp.png"> <p>Lvneel Kingdom</p></aside><aside id="44" datax="134.16139104524632" datay="1616.3416775888822" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTWljcXVlb3Q=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Micqueot</p></aside><aside id="45" datax="610.6907596963338" datay="941.5564496796667" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3BpZGVyX01pbGVz" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Spider Miles</p></aside><aside id="46" datax="1327.4198966884887" datay="1601.1148545498356" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRmxldmFuY2U=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Flevance</p></aside><aside id="47" datax="836.3176012264066" datay="1363.5708102340375" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUnViZWNrX0lzbGFuZA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Rubeck Island</p></aside><aside id="48" datax="892.3673197302305" datay="1633.1432650193815" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3dhbGxvd19Jc2xhbmQ=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Swallow Island</p></aside><aside id="49" datax="1530.2664969880434" datay="1398.2682549093788" style="" class="ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTWluaW9uX0lzbGFuZA=="><img src="./1_files/wp.png"> <p>Minion Island</p></aside><aside id="50" datax="1044.5022699548979" datay="1136.7029027414208" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTm90aWNl" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Notice</p></aside><aside id="51" datax="1831.8673632229088" datay="1670.5097439005187" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS3Vlbl9WaWxsYWdl" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Kuen Village</p></aside></div></div><aside id="29" datax="2776.406620051326" datay="2408.1750091228087" style="" class="ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUmV2ZXJzZV9Nb3VudGFpbg=="><img src="./1_files/wp.png"> <p>Reverse Mountain</p></aside><div id="17" class="ui-sortable-handle" style=""><h3>🗀  </h3><h2>Paradise</h2><a> ▼</a><div style="min-height: 0px; padding-bottom: 0px;" class="ui-sortable"><aside id="16" datax="3140.8774767044715" datay="2426.33120978838" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVHdpbl9DYXBl" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Twin Capes </p></aside><aside id="72" datax="3472.2840164251766" datay="2509.7453957331813" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSG9sbGlkYXlfSXNsYW5k" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Holiday Island</p></aside><aside id="73" datax="3225.6339725637617" datay="2437.5551392278194" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2hpc2t5X1BlYWs=" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Whisky Peak</p></aside><aside id="74" datax="3414.130754051347" datay="2329.269754469775" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTmFuaW1vbmFpX0lzbGFuZA==" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Nanimonai Island</p></aside><aside id="18" datax="3674.6843195980387" datay="2234.6460259176133" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ2FjdHVzX0lzbGFuZA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Cactus Island</p></aside><aside id="19" datax="3550.938187836349" datay="2414.199236125673" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTGl0dGxlX0dhcmRlbg==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Little Garden </p></aside><aside id="20" datax="3890.6334514958917" datay="2329.2754204867256" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJ1bV9Jc2xhbmQ=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Drum Island</p></aside><aside id="75" datax="4380.678080402584" datay="2445.5762788395264" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRy0y" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>G-2</p></aside><aside id="76" datax="4408.752069134778" datay="2519.771820247816" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTHVsdXNpYV9LaW5nZG9t" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Lulusia Kingdom</p></aside><aside id="21" datax="4220.623136193733" datay="2387.508894067718" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQXJhYmFzdGFfS2luZ2RvbQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Arabasta Kingdom</p></aside><aside id="22" datax="4523.9224787468975" datay="2389.9352888002586" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSmF5YQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Jaya</p></aside><aside id="77" datax="4525.058593882439" datay="2587.951506947325" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTW9tb2lyb19Jc2xhbmQ=" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Momoiro Island</p></aside><aside id="24" datax="4713.1812685000705" datay="2465.1535255090403" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2t5cGllYQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Skypiea</p></aside><aside id="25" datax="5023.759795274509" datay="2355.96576254468" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9uZ19SaW5nX0xvbmdfTGFuZA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Long Ring</p></aside><aside id="81" datax="5212.87131782118" datay="2523.782390053669" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmFuYXJvX0lzbGFuZA==" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Banaro Island</p></aside><aside id="80" datax="5260.998155647797" datay="2259.08478286734" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3QuX1BvcGxhcg==" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Saint Poplar</p></aside><aside id="79" datax="5417.410378584305" datay="2311.2221903434356" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUHVjY2k=" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Pucci</p></aside><aside id="78" datax="5409.389238946535" datay="2487.687261800988" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2FuX0ZhbGRv" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>San Faldo</p></aside><aside id="26" datax="5518.744322321271" datay="2402.067262462966" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2F0ZXJfNw==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Water 7</p></aside><aside id="27" datax="5831.388292552436" datay="2304.349729143346" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRmxvcmlhbl9UcmlhbmdsZQ==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Florian Triangle</p></aside><aside id="82" datax="5998.9430023226005" datay="2481.671407092208" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRW5pZXNfTG9iYnk=" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Enies Lobby</p></aside><aside id="83" datax="6059.101549605873" datay="2249.0583583527064" style="" class="ui-sortable-handle" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTmFtYWt1cmFfSXNsYW5k"><img src="./1_files/wp.png"> <p>Namakura Island</p></aside><aside id="84" datax="6303.746308557846" datay="2275.1270620907535" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS3VyYWlnYW5hX0lzbGFuZA==" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Kuraigana Island</p></aside><aside id="28" datax="6383.9646021983845" datay="2429.5141438252062" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2FiYW9keV9BcmNoaXBlbGFnbw==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Sabaody Archipelago</p></aside><aside id="58" datax="5866.7859540350655" datay="2696.884792422107" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQW1hem9uX0xpbHk=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Amazon Lily</p></aside><aside id="59" datax="6068.176717490364" datay="2684.7528187594003" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSW1wZWxfRG93bg==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Impel Down</p></aside><aside id="85" datax="6195.460923447956" datay="2626.051920102932" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS2FyYWt1cmlfSXNsYW5k" class="ui-sortable-handle" style=""><img src="./1_files/wp.png"> <p>Karakuri Island</p></aside><aside id="60" datax="5801.273296043583" datay="2694.4583976895656" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUnVzdWthaW5h" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Rusukaina</p></aside></div></div><div id="30" class="ui-sortable-handle" style=""><h3>🗀  </h3><h2>New World</h2><a> ▼</a><div style="min-height: 0px; padding-bottom: 0px;" class="ui-sortable"><aside id="31" datax="272.08186540865904" datay="2334.3836773387716" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUHVua19IYXphcmQ=" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Punk Hazard</p></aside><aside id="32" datax="669.128277478254" datay="2374.4893753973065" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJlc3Nyb3Nh" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Dressrosa</p></aside><aside id="33" datax="725.2762549426416" datay="2320.3466830182842" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvR3JlZW5fQml0" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Green Bit</p></aside><aside id="34" datax="1056.1482650006371" datay="2396.5475093295" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvWm91" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Zou</p></aside><aside id="35" datax="1274.724320129859" datay="2290.267409474383" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG90dG9fTGFuZA==" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Totto Land</p></aside><aside id="38" datax="1649.0909598736607" datay="2302.720228721559" desc="URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2Fub19Db3VudHJ5" style="" class="ui-sortable-handle"><img src="./1_files/wp.png"> <p>Wano Country</p></aside></div></div></div>
</div>
<!--sidebar-->
<div style="width: 25%; display: none;" id="userbar" class="righty" data-select2-id="select2-data-userbar">
  <div id="userbarclose" onclick="userbarbtn()">Close X</div>
  <div id="signin2" style="display: none;"><img class="g" src="./1_files/goo.png">Google Sign In</div>
  <div id="signin0" class="g-signin2" data-onsuccess="onSignIn" data-theme="dark" data-gapiscan="true" data-onload="true"><div style="height:36px;width:120px;" class="abcRioButton abcRioButtonBlue"><div class="abcRioButtonContentWrapper"><div class="abcRioButtonIcon" style="padding:8px"><div style="width:18px;height:18px;" class="abcRioButtonSvgImageWithFallback abcRioButtonIconImage abcRioButtonIconImage18"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="18px" height="18px" viewBox="0 0 48 48" class="abcRioButtonSvg"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg></div></div><span style="font-size:13px;line-height:34px;" class="abcRioButtonContents"><span id="not_signed_inv8kqgrk9jo7t" style="display: none;">Sign in</span><span id="connectedv8kqgrk9jo7t" style="">Signed in</span></span></div></div></div>
  <div id="signout" onclick="signOut()" style="display: block;"><img class="g" src="./1_files/goo.png">Sign Out</div>
  <div id="profile"><img src="./1_files/unnamed.png"><div>Name</div><div>Zachary Law</div><div>Email</div><div>law.zachary@gmail.com</div></div>
  <div id="theme" data-select2-id="select2-data-theme"> Theme<br>
    <select id="select" theme="google" width="400" placeholder="Choose theme..." data-search="true" data-select2-id="select2-data-select" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true">
      <option value="white" data-select2-id="select2-data-29-2bkk">White</option>
      <option value="dark" data-select2-id="select2-data-11-vg9u">Dark</option>
    </select><span class="select2 select2-container select2-container--default select2-container--below" dir="ltr" data-select2-id="select2-data-10-hvo8" style="width: auto;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-select-container"><span class="select2-selection__rendered" id="select2-select-container" role="textbox" aria-readonly="true" title="White">White</span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
  </div>


<div id="about">

  Powered by Fandom Map
  <br>
  <a id="f1" href="http://fandommap.com/#About">About</a><br>
  <a id="f2" href="http://fandommap.com/#T&amp;S">Terms</a><br>
  <a id="f3" href="http://fandommap.com/#About">Contact Us</a><br>
  <img src="./1_files/icon_blue.png" style="width: 5%;"> © 2022 Fandom Map

</div>

</div>
<!--userbar-->
<div style="display: none; width: 25%;" id="optionbar" class="righty">
  <div id="optionbarclose" onclick="optionbarbtn()">Close X</div>
  <h3>Options</h3>
  <div id="mapinfooption">
    <a>Rename</a>
    <input id="mapname">
    <div id="mapdelete">Delete 🗑</div>
    <div class="twotoggles"> Visibility <br>
      <div>Public</div>
      <div>Private</div>
    </div> Map Image Scale <input id="scale" type="number" placeholder="Default 1.00">
  </div>
  <!--mapinfooption-->
  <div id="notmapinfo">
    <a>Rename</a>
    <input id="optname">
    <br><br>
    <div class="cb">
    <input type="checkbox" name="sname">
    <label for="sname">All Waypoints under this category share same category name</label><br>

  </div>

<div class="spic">
  <br><br>
  <input type="file" name="files[]">
Change Category Image
<div id="spicreset">Reset Category Image</div>
</div>

  <div id="optiondelete">Delete 🗑</div>
    <table id="optroute">
    </table>
    <div class="waypointed"> Waypoint Coordinate X <input id="optx"> Waypoint Coordinate Y <input id="opty">
    </div>
    <div class="waypointed toggles"> Waypoint Description<br>
      <div>Off</div>
      <div>Markdown</div>
      <div>Website</div>
    </div>
    <div class="desc waypointed" id="descoff"> User click on this waypoint will not appear descriptions.</div>
    <div class="desc waypointed" id="descmarkdown"> User click on this waypoint will appear manual written markdown text.
      <br><br> Editor <textarea></textarea>
      <br><br> Preview <div id="preview"></div>
    </div>
    <div class="desc waypointed" id="descwebsite"> User click on this waypoint will appear a redirected website or fandom
      url <br><br>
      <input placeholder="Website Url..">
      <br><br> Preview <div id="iframepreview"></div>
    </div>
  </div>
  <!--not mapinfo-->
</div>
<!--optionbar-->
<div style="display: none; width: 25%;" id="descriptionbar" class="righty">
  <div id="descriptionbarclose" class="rightyclose" onclick="descriptionbarbtn()">Close X</div>
  <h2></h2>
  <div id="desciption"></div>
</div>
<!--descriptionbar-->
<div style="display: none; width: 25%;" id="solverbar" class="righty">
  <div id="solverbarclose" class="rightyclose" onclick="solverbarbtn()">Close X</div>
  <h3>Route Solver</h3> Number of waypoints <a id="solvercount">0</a>
  <select tabindex="-1" class="select2-hidden-accessible" aria-hidden="true" data-select2-id="select2-data-14-otrd"></select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="select2-data-15-9w66" style="width: 80%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-j5pf-container"><span class="select2-selection__rendered" id="select2-j5pf-container" role="textbox" aria-readonly="true"><span class="select2-selection__placeholder">Insert Waypoints...</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
  <table>
  </table>
</div>
<!--solverbar-->
<div id="dropimgdiv" style="display: none;">
  <img src="./1_files/icon_blue.png"><br>
  <h1>Create Map Image by inserting .jpeg / .png files.</h1>
  <button class="important" id="signin" style="display: none;"><img class="g" src="./1_files/goo.png">SIGN IN</button>
  <p id="msg"></p>
  <input type="file" id="upload" name="files[]">
</div>
<div id="c" style="position: fixed"><div class="konvajs-content" role="presentation" style="position: relative; user-select: none; width: 1920px; height: 975px;"><canvas width="1920" height="975" style="padding: 0px; margin: 0px; border: 0px; background: transparent; position: absolute; top: 0px; left: 0px; width: 1920px; height: 975px; display: block;"></canvas><canvas width="1920" height="975" style="padding: 0px; margin: 0px; border: 0px; background: transparent; position: absolute; top: 0px; left: 0px; width: 1920px; height: 975px; display: block;"></canvas><canvas width="1920" height="975" style="padding: 0px; margin: 0px; border: 0px; background: transparent; position: absolute; top: 0px; left: 0px; width: 1920px; height: 975px; display: block;"></canvas><canvas width="1920" height="975" style="padding: 0px; margin: 0px; border: 0px; background: transparent; position: absolute; top: 0px; left: 0px; width: 1920px; height: 975px; display: block;"></canvas><canvas width="1920" height="975" style="padding: 0px; margin: 0px; border: 0px; background: transparent; position: absolute; top: 0px; left: 0px; width: 1920px; height: 975px; display: block;"></canvas><canvas width="1920" height="975" style="padding: 0px; margin: 0px; border: 0px; background: transparent; position: absolute; top: 0px; left: 0px; width: 1920px; height: 975px; display: block;"></canvas></div></div>
<script>
  if (localStorage.theme == 'dark') {
    $('html').addClass('dark')
    $('select').val('dark')
    $('select').trigger('change')
  }
  var globalselect
  var enableedit = false
  var stage
  var filename
  var mobile = false
  var layer
  var map
  var json
  var user
  var option
  var text
  var waypoints=[]
  var legends
  var datax, datay, dataid
  var tooltipLayer
  var tooltip
  var routes
  var globaltemp
  var SIZE
  var iteration = 1000//simulation
  var solution = false//simulation
  var btachupdate = false;
  var scaleb, padding
  var tempemail, tempname
  let data = {
    id: '1',
    name: 'One Piece (Beta)'.replaceAll('&#39;', "'"),
    email: 'law.zachary@gmail.com',
    author: 'Zachary Law',
    json: ['{&#34;count&#34;: 89, &#34;author&#34;: &#34;Zachary Law&#34;, &#34;waypoint&#34;: {}}'.replaceAll('&#34;', '"').replaceAll("'s Map", 's Map').replaceAll('&#39;', "")],
    sortable: '&lt;map filename=&#34;1_map.png&#34; scale=&#34;2&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;/map&gt;&lt;div id=&#34;52&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;h3&gt;🗀  &lt;/h3&gt;&lt;h2&gt;South Blue&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;div style=&#34;min-height: 0px; padding-bottom: 0px;&#34; class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;53&#34; datax=&#34;4915.639215788345&#34; datay=&#34;4024.1227111222265&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS2FyYXRlX0lzbGFuZA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Karate Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;54&#34; datax=&#34;5861.933164554215&#34; datay=&#34;2927.3922920135356&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ2VudGF1cmVh&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Centaurea&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;55&#34; datax=&#34;5587.750558886155&#34; datay=&#34;3446.6407647773854&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG9yaW5vX0tpbmdkb20=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Torino Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;56&#34; datax=&#34;3860.157503703338&#34; datay=&#34;3031.7272655128136&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmF0ZXJpbGxh&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Baterilla&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;57&#34; datax=&#34;6325.3745599754475&#34; datay=&#34;3919.7877376229485&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmxhY2tfRHJ1bV9LaW5nZG9t&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Black Drum Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;/div&gt;&lt;nav id=&#34;39&#34; connector=&#34;29,16,18,19,20,21,22,24,25,26,27,28&#34; class=&#34;ui-sortable-handle&#34; data-select2-id=&#34;select2-data-39&#34; style=&#34;&#34;&gt;&lt;h3&gt;↬  &lt;/h3&gt;&lt;h2&gt;Paradise Arc&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;br&gt;&lt;div class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;29&#34; datax=&#34;2776.406620051326&#34; datay=&#34;2408.1750091228087&#34; style=&#34;&#34; class=&#34;29 ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUmV2ZXJzZV9Nb3VudGFpbg==&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Reverse Mountain&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;16&#34; datax=&#34;3140.8774767044715&#34; datay=&#34;2426.33120978838&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVHdpbl9DYXBl&#34; style=&#34;&#34; class=&#34;16 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Twin Capes &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;18&#34; datax=&#34;3674.6843195980387&#34; datay=&#34;2234.6460259176133&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ2FjdHVzX0lzbGFuZA==&#34; style=&#34;&#34; class=&#34;18 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Cactus Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;19&#34; datax=&#34;3550.938187836349&#34; datay=&#34;2414.199236125673&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTGl0dGxlX0dhcmRlbg==&#34; style=&#34;&#34; class=&#34;19 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Little Garden &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;20&#34; datax=&#34;3890.6334514958917&#34; datay=&#34;2329.2754204867256&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJ1bV9Jc2xhbmQ=&#34; style=&#34;&#34; class=&#34;20 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Drum Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;21&#34; datax=&#34;4220.623136193733&#34; datay=&#34;2387.508894067718&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQXJhYmFzdGFfS2luZ2RvbQ==&#34; style=&#34;&#34; class=&#34;21 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Arabasta Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;22&#34; datax=&#34;4523.9224787468975&#34; datay=&#34;2389.9352888002586&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSmF5YQ==&#34; style=&#34;&#34; class=&#34;22 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Jaya&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;24&#34; datax=&#34;4713.1812685000705&#34; datay=&#34;2465.1535255090403&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2t5cGllYQ==&#34; style=&#34;&#34; class=&#34;24 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Skypiea&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;25&#34; datax=&#34;5023.759795274509&#34; datay=&#34;2355.96576254468&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9uZ19SaW5nX0xvbmdfTGFuZA==&#34; style=&#34;&#34; class=&#34;25 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Long Ring&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;26&#34; datax=&#34;5518.744322321271&#34; datay=&#34;2402.067262462966&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2F0ZXJfNw==&#34; style=&#34;&#34; class=&#34;26 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Water 7&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;27&#34; datax=&#34;5933.6578229339975&#34; datay=&#34;2370.5241309399285&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRmxvcmlhbl9UcmlhbmdsZQ==&#34; style=&#34;&#34; class=&#34;27 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Florian Triangle&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;28&#34; datax=&#34;6383.9646021983845&#34; datay=&#34;2429.5141438252062&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2FiYW9keV9BcmNoaXBlbGFnbw==&#34; style=&#34;&#34; class=&#34;28 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Sabaody Archipelago&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;select style=&#34;display: inline-block;&#34; tabindex=&#34;0&#34; class=&#34;&#34; aria-hidden=&#34;false&#34;&gt;&lt;option value=&#34;false&#34;&gt;Route Waypoint...&lt;/option&gt;&lt;/select&gt;&lt;/nav&gt;&lt;nav id=&#34;41&#34; data-select2-id=&#34;select2-data-41&#34; connector=&#34;31,32,33,34,35,38&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;h3&gt;↬  &lt;/h3&gt;&lt;h2&gt;New World Arc&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;br&gt;&lt;div class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;31&#34; datax=&#34;272.08186540865904&#34; datay=&#34;2334.3836773387716&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUHVua19IYXphcmQ=&#34; style=&#34;&#34; class=&#34;31 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Punk Hazard&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;32&#34; datax=&#34;669.128277478254&#34; datay=&#34;2374.4893753973065&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJlc3Nyb3Nh&#34; style=&#34;&#34; class=&#34;32 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Dressrosa&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;33&#34; datax=&#34;725.2762549426416&#34; datay=&#34;2320.3466830182842&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvR3JlZW5fQml0&#34; style=&#34;&#34; class=&#34;33 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Green Bit&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;34&#34; datax=&#34;1056.1482650006371&#34; datay=&#34;2396.5475093295&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvWm91&#34; style=&#34;&#34; class=&#34;34 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Zou&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;35&#34; datax=&#34;1274.724320129859&#34; datay=&#34;2290.267409474383&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG90dG9fTGFuZA==&#34; style=&#34;&#34; class=&#34;35 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Totto Land&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;38&#34; datax=&#34;1649.0909598736607&#34; datay=&#34;2302.720228721559&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2Fub19Db3VudHJ5&#34; style=&#34;&#34; class=&#34;38 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Wano Country&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;select style=&#34;display: inline-block;&#34; tabindex=&#34;0&#34; class=&#34;&#34; aria-hidden=&#34;false&#34;&gt;&lt;option value=&#34;false&#34;&gt;Route Waypoint...&lt;/option&gt;&lt;/select&gt;&lt;/nav&gt;&lt;div id=&#34;61&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;h3&gt;🗀  &lt;/h3&gt;&lt;h2&gt;West Blue&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;div style=&#34;min-height: 0px; padding-bottom: 0px;&#34; class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;62&#34; datax=&#34;1464.3353370073924&#34; datay=&#34;3669.141161751428&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT2hhcmE=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Ohara&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;63&#34; datax=&#34;1829.5077454414002&#34; datay=&#34;3389.863128035917&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSWx1c2lh&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Ilisia Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;64&#34; datax=&#34;1809.6113085699133&#34; datay=&#34;3662.589895973566&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG9yb2E=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Toroa&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;65&#34; datax=&#34;2361.252137996068&#34; datay=&#34;3448.217913948768&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTGFzX0NhbXA=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Las Camp&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;66&#34; datax=&#34;1579.2251131569917&#34; datay=&#34;3240.0332458967205&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS2Fub19Db3VudHJ5&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Kano Country&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;/div&gt;&lt;nav id=&#34;40&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34; data-select2-id=&#34;select2-data-40&#34; connector=&#34;11,12,13,14,15,29&#34;&gt;&lt;h3&gt;↬  &lt;/h3&gt;&lt;h2&gt;East Blue Arc&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;br&gt;&lt;div class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;11&#34; datax=&#34;5752.70661812397&#34; datay=&#34;198.693151491352&#34; style=&#34;&#34; class=&#34;11 ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2hlbGxzX1Rvd24g&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Shells Town &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;12&#34; datax=&#34;5249.659001570046&#34; datay=&#34;696.9138936290082&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT3JhbmdlX1Rvd24g&#34; style=&#34;&#34; class=&#34;12 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Orange Town &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;13&#34; datax=&#34;4766.17542261738&#34; datay=&#34;1004.7159658569756&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3lydXBfVmlsbGFnZQ==&#34; style=&#34;&#34; class=&#34;13 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Syrup Village &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;14&#34; datax=&#34;4193.932794049054&#34; datay=&#34;589.550397254575&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ29jb3lhc2lfVmlsbGFnZQ==&#34; style=&#34;&#34; class=&#34;14 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Cocoyasi Village &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;15&#34; datax=&#34;3303.4459243129677&#34; datay=&#34;2025.976078919056&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9ndWV0b3duIA==&#34; style=&#34;&#34; class=&#34;15 ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Loguetown &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;29&#34; datax=&#34;2776.406620051326&#34; datay=&#34;2408.1750091228087&#34; style=&#34;&#34; class=&#34;29 ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUmV2ZXJzZV9Nb3VudGFpbg==&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Reverse Mountain&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;select style=&#34;display: inline-block;&#34; tabindex=&#34;0&#34; class=&#34;&#34; aria-hidden=&#34;false&#34;&gt;&lt;option value=&#34;false&#34;&gt;Route Waypoint...&lt;/option&gt;&lt;/select&gt;&lt;/nav&gt;&lt;div id=&#34;10&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;h3&gt;🗀  &lt;/h3&gt;&lt;h2&gt;East Blue&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;div style=&#34;min-height: 0px; padding-bottom: 0px;&#34; class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;11&#34; datax=&#34;5752.70661812397&#34; datay=&#34;198.693151491352&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2hlbGxzX1Rvd24g&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Shells Town &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;12&#34; datax=&#34;5249.659001570046&#34; datay=&#34;696.9138936290082&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT3JhbmdlX1Rvd24g&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Orange Town &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;13&#34; datax=&#34;4766.17542261738&#34; datay=&#34;1004.7159658569756&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3lydXBfVmlsbGFnZQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Syrup Village &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;14&#34; datax=&#34;4193.932794049054&#34; datay=&#34;589.550397254575&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ29jb3lhc2lfVmlsbGFnZQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Cocoyasi Village &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;15&#34; datax=&#34;3303.4459243129677&#34; datay=&#34;2025.976078919056&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9ndWV0b3duIA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Loguetown &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;67&#34; datax=&#34;4883.628244156834&#34; datay=&#34;631.1510558519972&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSXNsYW5kX29mX1JhcmVfQW5pbWFscw==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Island of Rare Animals&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;68&#34; datax=&#34;4022.0301181610766&#34; datay=&#34;1640.489478846146&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmFyYXRpZQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Baratie&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;69&#34; datax=&#34;5693.94703166927&#34; datay=&#34;921.8088808631258&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTWlycm9yYmFsbF9Jc2xhbmQ=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Mirror Ball Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;70&#34; datax=&#34;4689.85636018647&#34; datay=&#34;454.9947982694946&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS3VtYXRlX0lzbGFuZA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Kumate Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;71&#34; datax=&#34;3856.050071586717&#34; datay=&#34;422.6994843793698&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvT3lrb3RfS2luZ2RvbQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Oykot Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&#34;42&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;h3&gt;🗀  &lt;/h3&gt;&lt;h2&gt;North Blue&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;div style=&#34;min-height: 0px; padding-bottom: 0px;&#34; class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;37&#34; datax=&#34;657.0965680215993&#34; datay=&#34;1833.0624516070868&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvR2VybWFfS2luZ2RvbQ==&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Germa Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;43&#34; datax=&#34;165.24806611877693&#34; datay=&#34;1288.9798755451918&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTHZuZWVs&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Lvneel Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;44&#34; datax=&#34;134.16139104524632&#34; datay=&#34;1616.3416775888822&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTWljcXVlb3Q=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Micqueot&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;45&#34; datax=&#34;610.6907596963338&#34; datay=&#34;941.5564496796667&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3BpZGVyX01pbGVz&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Spider Miles&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;46&#34; datax=&#34;1327.4198966884887&#34; datay=&#34;1601.1148545498356&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRmxldmFuY2U=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Flevance&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;47&#34; datax=&#34;836.3176012264066&#34; datay=&#34;1363.5708102340375&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUnViZWNrX0lzbGFuZA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Rubeck Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;48&#34; datax=&#34;892.3673197302305&#34; datay=&#34;1633.1432650193815&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3dhbGxvd19Jc2xhbmQ=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Swallow Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;49&#34; datax=&#34;1530.2664969880434&#34; datay=&#34;1398.2682549093788&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTWluaW9uX0lzbGFuZA==&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Minion Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;50&#34; datax=&#34;1044.5022699548979&#34; datay=&#34;1136.7029027414208&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTm90aWNl&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Notice&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;51&#34; datax=&#34;1831.8673632229088&#34; datay=&#34;1670.5097439005187&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS3Vlbl9WaWxsYWdl&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Kuen Village&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;/div&gt;&lt;aside id=&#34;29&#34; datax=&#34;2776.406620051326&#34; datay=&#34;2408.1750091228087&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUmV2ZXJzZV9Nb3VudGFpbg==&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Reverse Mountain&lt;/p&gt;&lt;/aside&gt;&lt;div id=&#34;17&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;h3&gt;🗀  &lt;/h3&gt;&lt;h2&gt;Paradise&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;div style=&#34;min-height: 0px; padding-bottom: 0px;&#34; class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;16&#34; datax=&#34;3140.8774767044715&#34; datay=&#34;2426.33120978838&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVHdpbl9DYXBl&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Twin Capes &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;72&#34; datax=&#34;3472.2840164251766&#34; datay=&#34;2509.7453957331813&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSG9sbGlkYXlfSXNsYW5k&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Holiday Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;73&#34; datax=&#34;3225.6339725637617&#34; datay=&#34;2437.5551392278194&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2hpc2t5X1BlYWs=&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Whisky Peak&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;74&#34; datax=&#34;3414.130754051347&#34; datay=&#34;2329.269754469775&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTmFuaW1vbmFpX0lzbGFuZA==&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Nanimonai Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;18&#34; datax=&#34;3674.6843195980387&#34; datay=&#34;2234.6460259176133&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQ2FjdHVzX0lzbGFuZA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Cactus Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;19&#34; datax=&#34;3550.938187836349&#34; datay=&#34;2414.199236125673&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTGl0dGxlX0dhcmRlbg==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Little Garden &lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;20&#34; datax=&#34;3890.6334514958917&#34; datay=&#34;2329.2754204867256&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJ1bV9Jc2xhbmQ=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Drum Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;75&#34; datax=&#34;4380.678080402584&#34; datay=&#34;2445.5762788395264&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRy0y&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;G-2&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;76&#34; datax=&#34;4408.752069134778&#34; datay=&#34;2519.771820247816&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTHVsdXNpYV9LaW5nZG9t&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Lulusia Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;21&#34; datax=&#34;4220.623136193733&#34; datay=&#34;2387.508894067718&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQXJhYmFzdGFfS2luZ2RvbQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Arabasta Kingdom&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;22&#34; datax=&#34;4523.9224787468975&#34; datay=&#34;2389.9352888002586&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSmF5YQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Jaya&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;77&#34; datax=&#34;4525.058593882439&#34; datay=&#34;2587.951506947325&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTW9tb2lyb19Jc2xhbmQ=&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Momoiro Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;24&#34; datax=&#34;4713.1812685000705&#34; datay=&#34;2465.1535255090403&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2t5cGllYQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Skypiea&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;25&#34; datax=&#34;5023.759795274509&#34; datay=&#34;2355.96576254468&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTG9uZ19SaW5nX0xvbmdfTGFuZA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Long Ring&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;81&#34; datax=&#34;5212.87131782118&#34; datay=&#34;2523.782390053669&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQmFuYXJvX0lzbGFuZA==&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Banaro Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;80&#34; datax=&#34;5260.998155647797&#34; datay=&#34;2259.08478286734&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU3QuX1BvcGxhcg==&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Saint Poplar&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;79&#34; datax=&#34;5417.410378584305&#34; datay=&#34;2311.2221903434356&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUHVjY2k=&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Pucci&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;78&#34; datax=&#34;5409.389238946535&#34; datay=&#34;2487.687261800988&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2FuX0ZhbGRv&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;San Faldo&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;26&#34; datax=&#34;5518.744322321271&#34; datay=&#34;2402.067262462966&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2F0ZXJfNw==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Water 7&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;27&#34; datax=&#34;5831.388292552436&#34; datay=&#34;2304.349729143346&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRmxvcmlhbl9UcmlhbmdsZQ==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Florian Triangle&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;82&#34; datax=&#34;5998.9430023226005&#34; datay=&#34;2481.671407092208&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRW5pZXNfTG9iYnk=&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Enies Lobby&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;83&#34; datax=&#34;6059.101549605873&#34; datay=&#34;2249.0583583527064&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvTmFtYWt1cmFfSXNsYW5k&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Namakura Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;84&#34; datax=&#34;6303.746308557846&#34; datay=&#34;2275.1270620907535&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS3VyYWlnYW5hX0lzbGFuZA==&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Kuraigana Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;28&#34; datax=&#34;6383.9646021983845&#34; datay=&#34;2429.5141438252062&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvU2FiYW9keV9BcmNoaXBlbGFnbw==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Sabaody Archipelago&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;58&#34; datax=&#34;5866.7859540350655&#34; datay=&#34;2696.884792422107&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvQW1hem9uX0xpbHk=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Amazon Lily&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;59&#34; datax=&#34;6068.176717490364&#34; datay=&#34;2684.7528187594003&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvSW1wZWxfRG93bg==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Impel Down&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;85&#34; datax=&#34;6195.460923447956&#34; datay=&#34;2626.051920102932&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvS2FyYWt1cmlfSXNsYW5k&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Karakuri Island&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;60&#34; datax=&#34;5801.273296043583&#34; datay=&#34;2694.4583976895656&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUnVzdWthaW5h&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Rusukaina&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;/div&gt;&lt;div id=&#34;30&#34; class=&#34;ui-sortable-handle&#34; style=&#34;&#34;&gt;&lt;h3&gt;🗀  &lt;/h3&gt;&lt;h2&gt;New World&lt;/h2&gt;&lt;a&gt; ▼&lt;/a&gt;&lt;div style=&#34;min-height: 0px; padding-bottom: 0px;&#34; class=&#34;ui-sortable&#34;&gt;&lt;aside id=&#34;31&#34; datax=&#34;272.08186540865904&#34; datay=&#34;2334.3836773387716&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvUHVua19IYXphcmQ=&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Punk Hazard&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;32&#34; datax=&#34;669.128277478254&#34; datay=&#34;2374.4893753973065&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvRHJlc3Nyb3Nh&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Dressrosa&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;33&#34; datax=&#34;725.2762549426416&#34; datay=&#34;2320.3466830182842&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvR3JlZW5fQml0&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Green Bit&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;34&#34; datax=&#34;1056.1482650006371&#34; datay=&#34;2396.5475093295&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvWm91&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Zou&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;35&#34; datax=&#34;1274.724320129859&#34; datay=&#34;2290.267409474383&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvVG90dG9fTGFuZA==&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Totto Land&lt;/p&gt;&lt;/aside&gt;&lt;aside id=&#34;38&#34; datax=&#34;1649.0909598736607&#34; datay=&#34;2302.720228721559&#34; desc=&#34;URLaHR0cHM6Ly9vbmVwaWVjZS5mYW5kb20uY29tL3dpa2kvV2Fub19Db3VudHJ5&#34; style=&#34;&#34; class=&#34;ui-sortable-handle&#34;&gt;&lt;img src=&#34;static/wp.png&#34;&gt; &lt;p&gt;Wano Country&lt;/p&gt;&lt;/aside&gt;&lt;/div&gt;&lt;/div&gt;',
    visibility: 'Public',
    date: '13/01/2022',
  }
  if (data.visibility == 'Public') {
    $('#private').hide()
    //   $('#my-signin2,#signin2,#signin,#private').hide()
    // $('#signout,#create,.w3-button').show()
  }
  var id = data.id
  var verticalwindow = false
  $(document).ready(function () {
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) { mobile = true }
    if ($(window).height() / $(window).width() > 1) verticalwindow = true
    if (verticalwindow) {
      $('#sidebar,.righty').css('width', '50%')
      $('#sidebarbtn').html(' ☰ ')
      $('#userbarbtn').html($('#userbarbtn').html().replace('User Bar', ''))
      $('#solverbarbtn').html('<p> ⩻ </p>')
      $('#home').hide()
    }
    Konva.hitOnDragEnabled = true;
    stage = new Konva.Stage({
      container: 'c',
      width: window.innerWidth,
      height: window.innerHeight,
      draggable: true,
    });
    layer = new Konva.Layer();
    map = new Konva.Layer();
    legends = new Konva.Layer();
    legends.name('legends')
    tooltipLayer = new Konva.Layer();
    routes = new Konva.Layer();
    solves = new Konva.Layer();
    tooltip = new Konva.Text({
      text: '',
      fontFamily: 'Calibri',
      fontSize: 40,
      padding: 5,
      textFill: 'white',
      fill: 'white',
      alpha: 1,
      visible: false,
      offsetY: -80,
      offsetX: 100,
      align: 'center',
      shadowColor: 'black',
      shadowBlur: 15,
      shadowOpacity: 1,
      stroke: 'black',
      strokeWidth: 0.5,
    });

    tooltipLayer.add(tooltip);
    if (!mobile) { stage.add(layer) }
    stage.add(map);
    stage.add(routes)

    stage.add(solves)
    stage.add(legends)
    stage.add(tooltipLayer)
    var SIZE = 200;
    layer.draw();
    stage.on('click tap touchend', function (e) {
      if (e.target.getLayer().name() != 'legends') {
        if ($('#sidebar').is(':visible')) $('#sidebar').toggle("slide", { direction: 'left' })
        eachrightyhide()
      }
    })


    stage.on('wheel', (e) => {
      SIZE = Math.round(1 / stage.scaleX()) * 100
    })

    stage.on('dragend touchend wheel', () => {
      SIZE = Math.round(1 / stage.scaleX()) * 100
      layer.destroyChildren();
      checkShapes(SIZE);
      layer.draw();
    })
    stagesetup(stage)
/*
    addbox($('#mapinfo'), data.name, ['Author', data.author, 'Creation Date', data.date, 'Visibility', data.visibility, 'Share Link 📋', 'fandommap.com/' + id])
    if (data.sortable != '{}') { $('#sortable').html($('<div/>').html(data.sortable).text()) }
    */
    if ($('#sortable').find('map').length) {
      $('#sortable').find('map').each(function (element) {
        globaltemp = $(this).attr('filename')
        mapelement = $(this)
        $.ajax({
          url: 'static/' + globaltemp,
          success: function () { addmap(globaltemp, mapelement) }
        })
      })
    } else {
      $('#dropimgdiv').show()
      if (tempemail == data.email) popup(data.name + ' does not have map image, please insert image from dialog above.')
      else {
        $('#dropimgdiv input').hide()
        $('#dropimgdiv h1').html('Error: Author ' + data.author + ' did not add map image. If you are the author, please...')
        $('#dropimgdiv button').show()
        popup('Error: Author ' + data.author + ' did not add map image')
      }
    }

    $.fn.extend({
      toggleText: function (a, b) {
        return this.text(this.text() == b ? a : b)
      }
    })
    $('#sidebarbtn').click(function () { sidebarbtn() })

    $('#solverbarbtn').click(function () {
      $('#solverbar').toggle("slide", { direction: 'right' })
      eachrightyhide('#solverbar')
    })
    $('#userbarbtn').click(function () {
      userbarbtn()
      $('.righty').each(function (item) {
        if ($(this).is(':visible') && !$(this).is('#userbar')) $(this).toggle("slide", { direction: 'right' })
      })
    })
    $('#home').click(function () { home() })
    $('#header button').click(function () { $('#header input').val('') })
    $('#headername').html(data.name)

    $("#header input").on("focus", function (event, ui) {
      $('#headerlist').html('')
      $('#sortable aside:not(nav aside)').each(function (element) {
        $('#headerlist').append('<option>' + $(this).find('p').html() + '</option>')
      })
    })
    $(document).on('click', '#mapinfo>div p', function () {
      if ($(event.target).is(':contains(Share Link)') || $(event.target).is(':contains(fandommap.)')) {
        copy()
        popup('Copied http://fandommap.com/'+data.id)
      }
    })

   

    $(document).on('click', '#mapinfo>div', function () {
      if (!$(event.target).is('#mapinfo>div>div,#mapinfo>div>div>p')) {
        $(this).children('div').slideToggle( "slow" );
        $(this).children('a').toggleText(' ▲', ' ▼')
      }

      if (enableedit) {
        eachrightyhide()
        $('#notmapinfo').hide()
        $('#mapinfooption').show()
        $('#mapname').val(data.name)
        $('#scale').val($('#sortable').find('map').attr('scale'))
        if (data.visibility == 'Public') {
          $('.twotoggles>div:eq(0)').attr('id', 'checked')
          $('.twotoggles>div').css('background-color', 'transparent')
          $('.twotoggles>div:eq(0)').css('background-color', '#0080ff')
        }
        else if (data.visibility == 'Private') {
          $('.twotoggles>div:eq(1)').attr('id', 'checked')
          $('.twotoggles>div').css('background-color', 'transparent')
          $('.twotoggles>div:eq(1)').css('background-color', '#0080ff')
        }
        $('#optionbar').toggle("slide", { direction: 'right' })

      }
    })

    $(document).on("later fix doubleclick", "p,h2", function () {
      if (enableedit) {
        $(this).html('<input id="temp" rows="1" value="' + $(this).text() + '">')
        $("#temp").focus();
        $("#temp").focus(function () {
        }).blur(function () {
          $(this).parent().html($("input").val())
          update()
        })
      }
    })
    $(document).on("click", "#sortable>div>h2", function () {//category open option 
      $('.waypointed,#optroute').hide()
      if (enableedit) {
        eachrightyhide()
        $('#notmapinfo,.cb,.spic').show()
        $('#mapinfooption').hide()
        $('#optname').val($(this).html())
        if ($(this).parent().attr('sname')) $('.cb input').prop('checked', true);
        else $('.cb input').prop('checked', false);
        $('#optionbar').toggle("slide", { direction: 'right' })
        option = $(this).parent()
        text = $(this)
      }
    })
    $(document).on("click", "#sortable>div", function () {
      if (!$(event.target).is('#sortable>div>div>aside,#sortable>div>div>aside>img,#sortable>div>div>aside>p') && !enableedit) {
        $(this).children('div').slideToggle( "slow" );
        $(this).children('a').toggleText(' ▲', ' ▼')
      }
    })
    $(document).on("click", "nav", function () {
      if (!$(event.target).is('nav>div>aside,nav>div>aside>img,nav>div>aside>p') && !enableedit) {
        $(this).children('div').slideToggle( "slow" );
        $(this).children('a').toggleText(' ▲', ' ▼')
      }
    })
    $(document).on("click", "nav>h2", function (event) {//route open option
      if (!$(event.target).is('.select2-selection') && enableedit) {
        eachrightyhide()
        $('.waypointed,#optroute,.cb,.spic').hide()
        $('#notmapinfo').show()
        $('#mapinfooption').hide()
        $(this).parent().find('aside').each(function () {
          $('#optroute').append('<tr><td>' + $(this).clone().prop('outerHTML') + '</td><td>🗑️</td></tr>')
        })
        $('#optname').val($(this).html())
        $('#optionbar').toggle("slide", { direction: 'right' })
        option = $(this).parent()
        text = $(this)
      }
    })
    $(document).on("click", '#optroute tr>td:nth-child(2)', function () {
      target = $(this).parent().find('aside').d()
      $('#optroute .' + target).parent().parent().remove()
      $('.' + target).remove()
      update()
      updateroute(true)
    })

    $(document).on("mouseenter", 'nav h2', function () {
      $(this).parent().css('background-color', '#888888')
    })
    $(document).on("mouseleave", 'nav h2', function () {
      $(this).parent().css('background-color', '')
    })

    $(document).on("mouseenter", '#sortable>div h2', function () {
      $(this).parent().css('background-color', '#888888')
    })
    $(document).on("mouseleave", '#sortable>div h2', function () {
      $(this).parent().css('background-color', '')
    })
    $(document).on("mouseenter",'nav aside',function(e){legends.findOne('#'+$(this).d()).scale({x:1.5,y:1.5})})
    $(document).on("mouseleave",'nav aside',function(e){legends.findOne('#'+$(this).d()).scale({x:1,y:1})})
    $(document).on("mouseenter", '#sortable>div', function (e) {
   if(!$(event.target).is('aside')){
     $(this).find('aside').each(function(){legends.findOne('#'+$(this).d()).scale({ x: 1.5, y: 1.5 })})
   }
    })
    $(document).on("mouseleave", '#sortable>div', function (e) {
   if(!$(event.target).is('aside')){
     $(this).find('aside').each(function(){legends.findOne('#'+$(this).d()).scale({ x: 1, y: 1 })})
   }
    })
    $(document).on("mouseleave", '#sortable>div>div>aside', function (e) {
     $(this).parent().parent().find('aside').each(function(){legends.findOne('#'+$(this).d()).scale({x:1,y:1})})
    })
    $(document).on("mouseenter", '#mapinfo h2', function () {
      $(this).parent().css('background-color', '#888888')
    })
    $(document).on("mouseleave", '#mapinfo h2', function () {
      $(this).parent().css('background-color', '')
    })

    $(document).on("mouseenter", '#optroute tr>td:nth-child(2)', function () {
      $(this).css('background-color', 'red')
    })
    $(document).on("mouseleave", '#optroute tr>td:nth-child(2)', function () {
      $(this).css('background-color', '')
    })
    $(document).on("mouseenter", '#sortable aside', function () {
      if (enableedit) {
        $(this).parent().parent().find('gear').remove()
        $(this).find('p').after('<gear>⚙️</gear>')
      }
    })
    $(document).on("mouseenter", '#sortable nav h2,#sortable>div h2', function () {
      if (enableedit){
        $(this).parent().find('gear').remove()
        $(this).after('<gear>⚙️</gear>')}
    })
    $(document).on("mouseleave", '#sortable aside,#sortable nav,#sortable>div', function () {
      $(this).find('gear').remove()
    })
    $(document).on("mouseover", "nav", function (e) {
      if ($(this).c()) {
        connect = $(this).c()
        id = $(this).d()
globaltemp=$(e.target)
        connect.forEach(function (e, i) {
          if(!globaltemp.is('aside')) legends.findOne('#' + e).scale({ x: 1.5, y: 1.5 })
          else {legends.findOne('#' + e).scale({x:1,y:1})}
          if (connect[i + 1]) { routes.findOne('#' + id + 'connect' + e).strokeWidth(50) }
        })
        if(globaltemp.is('aside')) legends.findOne('#'+globaltemp.d()).scale({ x: 1.5, y: 1.5 })
      }
    })
    $(document).on("mouseleave", "nav", function () {
      if ($(this).c()) {
        connect = $(this).c()
        id = $(this).d()

        connect.forEach(function (e, i) {
          legends.findOne('#' + e).scale({ x: 1, y: 1 })
          if (connect[i + 1]) { routes.findOne('#' + id + 'connect' + e).strokeWidth(15) }
        })
      }
    })
    $(document).on("click", "nav aside", function () {//nav open wp desc
      if (!enableedit) wpdesc($('#sortable #' + $(this).d() + ':not(nav aside)'))
      else wpopt($(this))
    })
    $(document).on("click", "#sortable>div>div>aside,#sortable>aside", function () {//waypoint open option
      if (enableedit) {
        wpopt($(this))
      } else {
        wpdesc($(this))
      }
    })



    $('#descwebsite>input').on('input', function () {
      option.attr('desc', 'URL' + btoa(unescape(encodeURIComponent($(this).val()))))
      update()

      url = $(this).val()
      if (url.includes("fandom.com")) {
        $('#descriptionbar').addClass('fandom')
        url += '?action=render'
      } $('#iframepreview').html('<iframe src="' + url + '"></ifrmae>')
    })

    $('#descmarkdown>textarea').on('input', function () {
      option.attr('desc', btoa(unescape(encodeURIComponent($(this).val()))))
      update()
      $('#preview').html(new showdown.Converter().makeHtml($(this).val()))
    })
    $('#mapdelete').click(function () {
      $('.w3-button').hide()
      $('#home').show()
      $('#confirmdeletebackground,#confirmdeletewindow').show()
      $('.mapdeletename').html(data.name)
      $('#confirmdeletewindow>input').attr('placeholder', data.name)
    })
    $('#mapdeletecancel,#confirmdeletebackground').click(function () {
      $('.w3-button').show()
      $('#confirmdeletebackground,#confirmdeletewindow').hide()
    })
    $('#mapdeleteconfirm').click(function () {
      if ($('#confirmdeletewindow>input').val() == data.name) {
        $.ajax({ data: { id: data.id, name: data.name }, type: 'POST', url: '/$delete' }).done(function (notdata) {
          window.location.href = '/'
        })
      }
      else { $('#mapdeletemsg').show().delay(500).fadeOut() }
    })

    $('#optionbar :checkbox').change(function() {
    if (this.checked) {
       option.attr('sname','true')
       update()
    } else {
       option.attr('sname','false')
       update()

    }
});

$('#spicreset').click(function(){
option.attr('spic','')
update()
option.find('aside').each(function (item) {
var temp = $(this)
temp.find('Img').attr('src','static/wp.png')
legends.findOne('#'+temp.d()).destroy()
Konva.Image.fromURL('/static/wp.png', function (wp) {
    wp.setAttrs({
      x: parseFloat(temp.attr('datax')),
      y: parseFloat(temp.attr('datay')),
      id: temp.attr('id'),
      shadowColor: 'black',
      shadowBlur: 15,
      shadowOffset: { x: 0, y: -10 },
      shadowOpacity: 0,
      offsetX: 33,
      offsetY: 48,
    })
    legends.add(wp)
    wpevents(wp, temp)
  })
}).promise().done(function () {
function loadSprite(src, callback) {
  var sprite = new Image();
  sprite.onload = callback;
  sprite.src = src;
}
loadSprite('static/wp.png', function () {
  updateroute()
});
})//done
legends.batchDraw()


})


    $('#optiondelete').click(function () {
      $('#optionbar').toggle("slide", { direction: 'right' })
      if (!option.is('nav')) legends.findOne('#' + option.attr('id')).destroy()
      $('.' + option.d()).remove()
      option.remove()
      updateroute(true)
      update()
    })
    $('#optname').on('input', function () {
      text.html($(this).val())
      $('.' + option.d()).find('p').html($(this).val())
      update()
    })
    $('#mapname').on('input', function () {
      $('#mapinfo').find('h2').html($(this).val())
      $('#headername').html($(this).val())
      update()
    })
    $('#scale').on('input', function () {
      if (!$(this).val()) scale = 1
      else scale = $(this).val()
      $('#sortable').find('map').attr('scale', scale)
      map.findOne('Image').scaleX(scale)
      map.findOne('Image').scaleY(scale)
      update()
    })
    $('#search').keyup(function () {
      $('nav,#sortable>div').show()
      $('#sortable').find('aside').show()
      if ($(this).val() == '') { $('#sortable').find('aside').show() }
      list = $('#sortable').find('aside')
      for (var i = 0; i < list.length; i++) {
        if (list[i].textContent.toUpperCase().indexOf($(this).val().toUpperCase()) > -1 && list[i].style.display == "") {
          list[i].style.display = ""
        } else { list[i].style.display = "none" }
      }
      $('nav,#sortable>div').each(function () {
        if ($(this).find('div>aside:visible').length == 0) $(this).hide()
      })
    })
    $('#addcategory').click(function () {
      $('#sortable').prepend('<div id=' + json.count + '><h3>🗀  </h3><h2>Category ' + json.count + '</h2><a> ▼</a><div></div></div>')
      json.count = json.count + 1
      update()
      activesort()
    })//+category
    $('#addwaypoint').click(function () {
      var x = stage.x() / stage.scaleX() - (stage.width() / stage.scaleX() / 2)
      var y = stage.y() / stage.scaleY() - (stage.height() / stage.scaleY() / 2)
      y = -y
      x = -x
      Konva.Image.fromURL('/static/wp.png', function (wp) {
        wp.setAttrs({
          x: x,
          y: y,
          id: json.count.toString(),
          shadowColor: 'black',
          shadowBlur: 15,
          shadowOffset: { x: 0, y: -10 },
          shadowOpacity: 0,
          draggable: true,
          offsetX: 33,
          offsetY: 48,
        });
        legends.add(wp)
        legends.batchDraw()
        $('#sortable').prepend('<aside id=' + json.count + ' datax="' + x + '" datay="' + y + '"><img src=static/wp.png> <p>Waypoint ' + json.count + '</p></aside>')
        wpevents(wp, $('#' + json.count.toString()))
        json.count = json.count + 1
        update()
        activesort()
      })
    })//+waypoint
    $('#addroute').click(function () {
      $('#sortable').prepend('<nav id=' + json.count + '><h3>↬  </h3><h2>Route ' + json.count +
        '</h2><a> ▼</a><br><div></div><select></select></nav>')
      $('nav>select').next(".select2-container").show()
      $('#' + json.count + '>select').show()
      // selectevent($('#' + json.count + '>select'))
      activesort()
      json.count = json.count + 1
      update()
    })//+route
    //toggles
    $('.toggles>div').click(function () {
      $('.toggles>div').css('background-color', 'transparent')
      $(this).css('background-color', '#0080ff')
      $('div[id="checked"]').attr('id', '')
      $(this).attr('id', 'checked')
      if ($(this).html() == 'Off') {
        $('.desc').hide()
        $('#descoff').show()
      } else if ($(this).html() == 'Markdown') {
        $('.desc').hide()
        $('#descmarkdown').show()
      } else if ($(this).html() == 'Website') {
        $('.desc').hide()
        $('#descwebsite').show()
      }
    })
    $('.toggles>div').hover(function () {
      $(this).css('background-color', '#0080ff')
    })
    $('.toggles>div').mouseleave(function () {
      if ($(this).attr('id') != 'checked') { $(this).css('background-color', 'transparent') }
    })

    $('.twotoggles>div').click(function () {
      $('.twotoggles>div').css('background-color', 'transparent')
      $(this).css('background-color', '#0080ff')
      $('div[id="checked"]').attr('id', '')
      $(this).attr('id', 'checked')
      if ($(this).html() == 'Public') {
        data.visibility = 'Public'
        $('p:contains("Public"),p:contains("Private")').html('Public')
      } else if ($(this).html() == 'Private') {
        data.visibility = 'Private'
        $('p:contains("Public"),p:contains("Private")').html('Private')
      }
      update()
    })

    $('.twotoggles>div').hover(function () {
      $(this).css('background-color', '#0080ff')
    })
    $('.twotoggles>div').mouseleave(function () {
      if ($(this).attr('id') != 'checked') { $(this).css('background-color', 'transparent') }
    })

    function fitStageIntoParentContainer() {
      stage.width(window.innerWidth)
      stage.height(window.innerHeight)
      if ($(window).height() / $(window).width() > 1) verticalwindow = true
      else verticalwindow = false
      if (verticalwindow) {
        $('#sidebar,.righty').css('width', '50%')
        $('#sidebarbtn').html(' ☰ ')
        $('#userbarbtn').html($('#userbarbtn').html().replace('User Bar', ''))
        $('#solverbarbtn').html('<p> ⩻ </p>')
        $('#home').hide()
      } else {
        $('#sidebar,.righty').css('width', '25%')
        $('#sidebarbtn').html(' ☰ Waypoints')
        $('#userbarbtn a').html('User Bar')
        $('#solverbarbtn').html('Route Solver <p> ⩻ </p>')
        $('#home').show()
      }
    }
    fitStageIntoParentContainer();
    window.addEventListener('resize', fitStageIntoParentContainer);
    $("select").select2();


    $('#solverbar select').select2({
      placeholder: 'Insert Waypoints...',
      initSelection: function (element, callback) { },
      allowClear: true,
      width: '80%'
    })
    $('#solverbar select').on('select2:opening', function () {
      select = $(this)
      select.empty()
      select.append(new Option('Insert Waypoints...', -1, false, false))
      $('#sortable').find('aside').each(function () {
        if (!$(this).is('nav>div>aside')) select.append(new Option($(this).n(), $(this).d(), false, false))
      })
      select.trigger('change')
    })
    $('#solverbar select').on('select2:select', function (e) {
      select = $(this)
      temp = $('#sortable #' + e.params.data.id + ':not(.' + e.params.data.id + ')').clone()
      temp.addClass(e.params.data.id)
      $('#solverbar table').append('<tr><td class="' + e.params.data.id + '"></td><td>🗑️</td></tr>')
      $('#solverbar tr:last-child').find('td:first-child').html(temp)
      select.empty()
      $('#solvercount').html($('#solverbar tr').length)
      simulation([temp.attr('datax'), temp.attr('datay'), e.params.data.id])
    })
    $(document).on("click", "#solverbar tr td:nth-child(2)", function () {
      $('#solvercount').html($('#solverbar tr').length)
      $(this).parent().remove()
      solution = false
      simulation()
    })

  })//ready

  function iframeready() {
    $("#iframepreview>iframe,#desciption>iframe").on("load", function () {
      let head = $(this).contents().find("head");
      let css = '<style>html{color:white}</style>';
      $(head).append(css);
    });
  }

  function toggled(num) {
    $('.toggles>div:eq(' + num + ')').attr('id', 'checked')
    $('.toggles>div').css('background-color', 'transparent')
    $('.toggles>div:eq(' + num + ')').css('background-color', '#0080ff')
    $('.desc').hide()
    if (num == 0) $('#descoff').show()
    else if (num == 1) $('#descmarkdown').show()
    else if (num == 2) $('#descwebsite').show()
  }
  function dragOverHandler(ev) { ev.preventDefault() }
  $('#upload').change(function () {
    var form_data = new FormData();
    form_data.append("files[]", $(this)[0].files[0]);
    $.ajax({
      url: '$upload' + data.id,
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      type: 'post',
    }).done(function (data) {
      $('#sortable').append('<map filename="' + data.result + '" scale="1"></map>')
      addmap(data.result)
      update()
    }).fail(function (data) {
      popup(data)
    })
  });//upload
  $('.spic input').change(function(){

    var form_data = new FormData();
    form_data.append("files[]", $(this)[0].files[0]);
    $.ajax({
      url: '$upload' + data.id+'cate'+option.d(),
      cache: false,
      contentType: false,
      processData: false,
      data: form_data,
      type: 'post',
}).done(function (data) {
option.attr('spic',data.result)
update()

filename=data.result
option.find('aside').each(function (item) {
var temp = $(this)
temp.find('img').attr('src','static/'+filename)
legends.findOne('#'+temp.d()).destroy()
Konva.Image.fromURL('/static/'+filename, function (wp) {
    wp.setAttrs({
      x: parseFloat(temp.attr('datax')),
      y: parseFloat(temp.attr('datay')),
      id: temp.attr('id'),
      shadowColor: 'black',
      shadowBlur: 15,
      shadowOffset: { x: 0, y: -10 },
      shadowOpacity: 0,
      offsetX: 33,
      offsetY: 48,
    })
    legends.add(wp)
    wpevents(wp, temp)
  })
}).promise().done(function () {
function loadSprite(src, callback) {
  var sprite = new Image();
  sprite.onload = callback;
  sprite.src = src;
}
loadSprite('static/'+filename, function () {
  updateroute()
});
})//done
legends.batchDraw()
     // update()
    }).fail(function (data) {
      popup(data)
    })
  });//change
  function addmap(filename, mapelement) {
    $('#dropimgdiv').hide()
    if (mapelement) {
      scale = parseInt(mapelement.attr('scale'))
    } else scale = 1
    Konva.Image.fromURL('static/' + filename, function (mapimg) {
      mapimg.setAttrs({
        x: 0,
        y: 0,
        scaleX: scale,
        scaleY: scale,
      });
      map.add(mapimg);
      // if (mapimg.width() > window.innerWidth) {
      //   stage.scaleX(window.innerWidth / mapimg.width())
      //   stage.scaleY(window.innerWidth / mapimg.width())
      // }
      padding = window.innerHeight / 2;
      box = mapimg.getClientRect({ relativeTo: stage });
      scaleb = Math.min(
        stage.width() / (box.width + padding * 2),
        stage.height() / (box.height + padding * 2)
      )
      stage.x(-box.x * scaleb + padding * scaleb)
      stage.y(-box.x * scaleb + padding * scaleb ** 1)
      stage.scaleX(scaleb)
      stage.scaleY(scaleb)
      SIZE = Math.round(1 / stage.scaleX()) * 100
      checkShapes(SIZE);
    })
    stage.draw();
    if (data.json == '{}') {
      json = {}
      json.count = 0
      json.author = data.author
      json.waypoint = {}
      update()
    } else {
      json = JSON.parse(data.json)
    }
    $('#sortable').find('aside').each(function (item) {
      var temp = $(this)
      if (!temp.is('nav>div>aside')) {
        if (temp.parent().parent().attr('spic')) filename=temp.parent().parent().attr('spic')
        else filename='wp.png'
        Konva.Image.fromURL('/static/'+filename, function (wp) {
          wp.setAttrs({
            x: parseFloat(temp.attr('datax')),
            y: parseFloat(temp.attr('datay')),
            id: temp.attr('id'),
            shadowColor: 'black',
            shadowBlur: 15,
            shadowOffset:{x:0,y:-10},
            shadowOpacity: 0,
            offsetX: 33,
            offsetY: 48,
          })
          legends.add(wp)
          wpevents(wp, temp)
        })
      }
    }).promise().done(function () {
      function loadSprite(src, callback) {
        var sprite = new Image();
        sprite.onload = callback;
        sprite.src = src;
      }
      loadSprite('static/wp.png', function () {
        updateroute()
      });
    })//done
    legends.batchDraw()
    $('#sortable').find('select').each(function () {
      selectevent($(this))
      $('nav>select').next(".select2-container").hide()
    })
    $('nav').each(function () {
      temp = ''
      $(this).find('aside').each(function () { temp += $(this).d() + ',' })
      $(this).attr('connector', temp.slice(0, -1))
    })
  }//addmap initjson
  function addbox(location, header, list) {
    temp = "<div><h2>" + header + "</h2><a> ▼</a><div>"
    for (var i = 0; i < list.length; i++) { temp = temp.concat('<p>' + list[i] + '</p>') }
    location.append(temp.concat("</div></div>"))
  }
  function update() {
    checkupdate = true
  }
  function stagesetup(stage) {
    stage.on('dragmove', () => { document.body.style.cursor = 'move' });
    stage.on('dragend', () => { document.body.style.cursor = 'default' });
    stage.on('wheel', (e) => {
      e.evt.preventDefault();
      var oldScale = stage.scaleX();
      var pointer = stage.getPointerPosition();
      var mousePointTo = { x: (pointer.x - stage.x()) / oldScale, y: (pointer.y - stage.y()) / oldScale, };
      var newScale = e.evt.deltaY > 0 ? oldScale / 1.1 : oldScale * 1.1;
      stage.scale({ x: newScale, y: newScale });
      var newPos = { x: pointer.x - mousePointTo.x * newScale, y: pointer.y - mousePointTo.y * newScale, };
      stage.position(newPos);
      stage.batchDraw();
    })

    function getDistance(p1, p2) {
      return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));
    }

    function getCenter(p1, p2) {
      return {
        x: (p1.x + p2.x) / 2,
        y: (p1.y + p2.y) / 2,
      };
    }
    var lastCenter = null;
    var lastDist = 0;
    stage.on('touchmove', function (e) {
      e.evt.preventDefault();
      var touch1 = e.evt.touches[0];
      var touch2 = e.evt.touches[1];
      if (touch1 && touch2) {//touch1 && touch2
        if (stage.isDragging()) {
          stage.stopDrag();
        }
        var p1 = { x: touch1.clientX, y: touch1.clientY }
        var p2 = { x: touch2.clientX, y: touch2.clientY }
        if (!lastCenter) {
          lastCenter = getCenter(p1, p2);
          return;
        }
        var newCenter = getCenter(p1, p2);
        var dist = getDistance(p1, p2);
        if (!lastDist) {
          lastDist = dist;
        }
        var pointTo = {
          x: (newCenter.x - stage.x()) / stage.scaleX(),
          y: (newCenter.y - stage.y()) / stage.scaleX(),
        };
        var scale = stage.scaleX() * (dist / lastDist);
        stage.scaleX(scale);
        stage.scaleY(scale);
        var dx = newCenter.x - lastCenter.x;
        var dy = newCenter.y - lastCenter.y;
        var newPos = {
          x: newCenter.x - pointTo.x * scale + dx,
          y: newCenter.y - pointTo.y * scale + dy,
        };
        stage.position(newPos);
        lastDist = dist;
        lastCenter = newCenter;
      }
    });

    stage.on('touchend', function () {
      lastDist = 0;
      lastCenter = null;
    })
  }//stagesetup
  function signOut() {
    $('#my-signin2,#signin2,#signin').show()
    $('#signout,#create').hide()
    gapi.auth2.getAuthInstance().signOut()
    $('#profile').html('You had not signed in')
  }
  function onSignIn(googleUser) {
    if($('#dropimgdiv h1:contains(did not add map image)') ){
      $('#dropimgdiv h1').html('Create Map Image by inserting .jpeg / .png files.')
      $('#dropimgdiv input').show()}
    $('#my-signin2,#signin2,#signin').hide()
    $('#signout,#create').show()
    var profile = googleUser.getBasicProfile();
    tempname = profile.getName()
    popup('Welcome ' + tempname)
    tempemail = profile.getEmail()
    user = profile.getName()
    if ((data.email == profile.getEmail() && data.visibility == 'Private') || data.visibility == 'Public') {
      $('.w3-button').show()
      $('#my-signin2,#signin2,#signin,#private').hide()
      $('#signout,#create').show()
      $('#profile').html('<img src='+profile.getImageUrl() +'></img><div>Name</div><div>' + profile.getName() + '</div><div>Email</div><div>' + profile.getEmail() + '</div>')
      if (data.author == user) {
        $('#edit').show()
        $('#edit').click(function () {
          eachrightyhide()
          $('#edit').toggleText('✎ Map Author only: Edit Mode', '✎ Exit Edit Mode')
          if (enableedit) {//exit edit mode
            $('#sortable').find('select').each(function(){if($(this).data('select2')) $(this).select2('destroy')})
                $('#sortable>div>div').css('padding-bottom', '0')
                $('nav>select').next(".select2-container").hide()
                $.ajax({ data: { json: JSON.stringify(json), id: data.id, sortable: $('#sortable').html(), name: $('#mapinfo').find('h2').text(), visibility: data.visibility }, type: 'POST', url: '/$update' }).done(function (data) {
                  console.log('updated')
                })
                $('#sortable>div>div').css('padding-bottom', '20%')
                $('nav>select').next(".select2-container").show()
                $('#sortable').find('select').each(function () {selectevent($(this))})
            $('.edittool').hide()
            $('#sortable,#sortable>div>div').sortable("disable")
            enableedit = false
            $('#sortable>div>div').css('padding-bottom', '0')
            $('#sortable').find('select').each(function () { $(this).next(".select2-container").hide() })
            legends.find('Image').forEach(function (element) {
              element.draggable(false)
            })
            popup('Exited ✎ Edit Mode ')
          } else {//enter edit mode
            $('.edittool').show()
            $('#sortable>div>div').css('padding-bottom', '20%')
            $('#sortable>div>div,nav div').show()
            $('#sortable').find('select').each(function () { $(this).next(".select2-container").show() })
            activesort()
            enableedit = true
            legends.find('Image').forEach(function (element) {
              element.draggable(true)
            })
            checkupdate = false
            setInterval(function () {
              if (checkupdate) {
                $('#sortable').find('select').each(function () {
                  if ($(this).data('select2')) $(this).select2('destroy')
                })
                $('#sortable>div>div').css('padding-bottom', '0')
                $('nav>select').next(".select2-container").hide()
                $.ajax({ data: { json: JSON.stringify(json), id: data.id, sortable: $('#sortable').html(), name: $('#mapinfo').find('h2').text(), visibility: data.visibility }, type: 'POST', url: '/$update' }).done(function (data) {
                  console.log('updated')
                })
                $('#sortable>div>div').css('padding-bottom', '20%')
                $('nav>select').next(".select2-container").show()
                $('#sortable').find('select').each(function () {
                  selectevent($(this))
                })
                checkupdate = false
              }
            }, 1000 * 20);//check update every 20s
            popup('Entered ✎ Edit Mode ')
          }
        })
      }
    }
  }
  function activesort() {
    sortable = $('#sidebar')
    var offset = $('#sidebar').offset();
    var offsetHeight = offset.top + $('#sidebar').height();
    var intTopHandler = null;
    var intBottomHandler = null;
    var distance = 50;
    var timer = 100;
    var step = 10;
    function clearInetervals() {
      clearInterval(intTopHandler);
      clearInterval(intBottomHandler);
    }
    function autoscroll(e) {
      var isMoving = false;
      if ((e.pageY - offset.top) <= distance) {//Top
        isMoving = true;
        clearInetervals();
        intTopHandler = setInterval(function () { sortable.scrollTop(sortable.scrollTop() - step) }, timer);
      }
      if (e.pageY >= (offsetHeight - distance)) { //Bottom
        isMoving = true;
        clearInetervals();
        intBottomHandler = setInterval(function () { sortable.scrollTop(sortable.scrollTop() + step) }, timer);
      }
      if (!isMoving) clearInetervals();
    }
    $("#sortable").sortable({
      scroll: true,
      scrollSensitivity: 100,
      scrollSpeed: 40,
      revert: true,
      connectWith: "#sortable>div>div,#sortable",
      sort: function (e) { autoscroll(e) },
      stop: function (event, ui) {
        clearInetervals();
        if ($(ui.item[0]).find('h2').is('#sortable>div>div h2')) {
          $(this).sortable('cancel')
          popup('Error: Nested categories / route')
        }

      if(  $(ui.item[0]).is('#sortable>div>div>aside')&&$(ui.item[0]).parent().parent().attr('spic') ){
       swap( $(ui.item[0]),filename)
  
    
}



        update()
      }
    })
    $("#sortable>div>div").sortable({
      scroll: true,
      scrollSensitivity: 100,
      scrollSpeed: 40,
      connectWith: "#sortable>div>div,#sortable",
      sort: function (e) { autoscroll(e) },
      stop: function (event, ui) {
        clearInetervals();


        update()
      }
    })
    $("nav>div").sortable({
      scroll: true,
      scrollSensitivity: 100,
      scrollSpeed: 40,
      sort: function (e) { autoscroll(e) },
      stop: function (event, ui) {
        clearInetervals();
        updateroute(true)
        update()
      }
    })
  }
  function home() { document.location.href = "/"; }
  function sidebarbtn() { $('#sidebar').toggle("slide") }
  function userbarbtn() {
    $('#userbar').toggle("slide", { direction: 'right' })
  }
  function optionbarbtn() {

    $('#optionbar').toggle("slide", { direction: 'right' })
  }
  function descriptionbarbtn() {

    $('#descriptionbar').toggle("slide", { direction: 'right' })
  }


  function popupbtn() { $('#popupbox').slideToggle() }
  function popup(msg) {
    if ($('#popupbox').is(':visible')) { $('#popupbox').slideToggle() }
    $('#popupmsg').html(msg)
    $('#popupbox').slideToggle().delay(1000 * 2.5).slideToggle()
  }//popup

  function eachrightyhide(except) {
    if (except) {
      $('.righty').each(function (item) {
        if ($(this).is(':visible') && !$(this).is(except)) $(this).toggle("slide", { direction: 'right' })
      })
    }

    else {
      $('.righty').each(function (item) {
        if ($(this).is(':visible')) $(this).toggle("slide", { direction: 'right' })
      })
    }
  }
  function wpevents(wp, temp) {
    $('#optx').on('input', function () {
      if (enableedit && option.attr('id') == temp.attr('id')) {
        temp.attr('dataX', $(this).val())
        wp.x($(this).val())
        update()
      }
    })
    $('#opty').on('input', function () {
      if (enableedit && option.attr('id') == temp.attr('id')) {
        temp.attr('dataY', $(this).val())
        wp.x($(this).val())
        update()
      }
    })
    wp.on('dragmove', function () {
      updateObjects()
      $('#optx').val(parseFloat(wp.x()))
      $('#opty').val(parseFloat(wp.y()))
      stage.container().style.cursor = 'move'
    })
    wp.on('dragend', function () {
      stage.container().style.cursor = 'default'
      temp.attr('datax', parseFloat(wp.x()))
      temp.attr('datay', parseFloat(wp.y()))
      $('#optx').val(parseFloat(wp.x()))
      $('#opty').val(parseFloat(wp.y()))
      update()
    })
    wp.on('mouseenter', function () {
      if (enableedit) stage.container().style.cursor = 'move'
      tooltip.position({
        x: wp.x(),
        y: wp.y(),
      });
      wp.scale({ x: 1.5, y: 1.5 })
    tooltip.fontSize(50/stage.scaleX())
    if(temp.parent().parent().attr('sname')=='true')tooltip.text(temp.parent().parent().find('h2').html())
     else tooltip.text(temp.find('p').html())
      tooltip.show();
      wp.shadowOpacity(1)
      function timeFunction() {
        setTimeout(function () {
          tooltip.hide();
          wp.scale({ x: 1, y: 1 })
          wp.shadowOpacity(0)
        }, 10000)
      }
      timeFunction()
    });
    wp.on('click tap', function () {
      if(enableedit) wpopt(temp)
      else wpdesc(temp)
    })
    $(document).on("click", "#sortable>div>div>div,#sortable>aside", function () {
      if (!enableedit && $(this).attr('id') == temp.attr('id')) { wp.shadowOpacity(1) }
      function timeFunction() { setTimeout(function () { wp.shadowOpacity(0) }, 5000) }
      timeFunction()
    })
    $(document).on("mouseenter", "#sortable>div>div>aside,#sortable>aside", function () {
      if (!enableedit && $(this).attr('id') == temp.attr('id')) {
        tooltip.position({
          x: wp.x(),
          y: wp.y(),
        });
        tooltip.text(temp.find('p').html());
        tooltip.show();
        wp.scale({ x: 1.5, y: 1.5 })
        wp.shadowOpacity(1)
      }

    })
    $(document).on("mouseleave", "#sortable>div>div>aside,#sortable>aside", function () {
      if (!enableedit && $(this).attr('id') == temp.attr('id')) {
        tooltip.hide();
        wp.shadowOpacity(0)
        wp.scale({ x: 1, y: 1 })
      }
    })
    wp.on('mouseout', function () {
      if (enableedit) stage.container().style.cursor = 'default';
      tooltip.hide();
      wp.shadowOpacity(0)
      wp.scale({ x: 1, y: 1 })
    });
  }//wpevents
  var googleUser = {};
  gapi.load('auth2', function () {
    auth2 = gapi.auth2.init({
      client_id: '507651740228-f5clg8q3qlf66se0e40m5p2hthr4djtb.apps.googleusercontent.com',
      cookiepolicy: 'single_host_origin',
    });
    attachSignin(document.getElementById('signin'));
    attachSignin(document.getElementById('signin2'));
    attachSignin(document.getElementById('signin3'));

  });
  function attachSignin(element) {
    auth2.attachClickHandler(element, {}, function (googleUser) { onSignIn(googleUser) });
  }
  $('#userbar select').on('change', function () {
    if (this.value == 'dark') {
      localStorage.theme = 'dark'
      $('html').addClass('dark')
    }
    else {
      localStorage.theme = 'white'
      $('html').removeClass('dark')
    }
  });


  $.fn.d = function () {
    return this.attr('id').toString()
  };
  $.fn.n = function () {
    return this.find('p').html()
  };
  $.fn.p = function () {
    return this.find('p').html()
  };
  $.fn.c = function () {
    if (this.attr('connector')) return this.attr('connector').split(',').map(x => x.toString())
    else false
  };
  function clear() {
    $('#sortable').html('')
    update()
    function timeFunction() {
      setTimeout(function () { location.reload(); }, 3000);
    }
    timeFunction()

  }

  function selectevent(select) {
    select.off()
    if (select.data('select2')) {
      select.select2('destroy');
    }
    globalselect = select
    select.select2({
      // placeholder: {id:'-1',text:'.'},
      placeholder: 'Route Waypoints...',
      initSelection: function (element, callback) { },
      allowClear: true,
      width: '80%'
    })
    select.empty()
    select.append('<option value="false">Route Waypoint...</option>')
    select.val(0).trigger('change')
    select.trigger('change')
    select.on('select2:opening', function () {
      select.empty()
      select.append('<option value="false">Route Waypoint...</option>')
      $('#sortable').find('aside').each(function () {
        if (!$(this).is('nav>div>aside')) select.append(new Option($(this).n(), $(this).d(), false, false))
      })
      select.trigger('change')
    })
    select.on('select2:select', function (e) {
      temp = $('#' + e.params.data.id).clone()
      temp.addClass(e.params.data.id)
      select.parent().find('div').append(temp)
      temp = ''
      select.parent().find('aside').each(function () { temp += $(this).d() + ',' })
      select.parent().attr('connector', temp.slice(0, -1))
      select.empty()
      updateroute()
      update()
    })
  }
  function getConnectorPoints(from, to) {
    let angle = Math.atan2(from.y - to.y, to.x - from.x);
    const radius = 50;
    return [
      from.x + -radius * Math.cos(angle + Math.PI),
      from.y + radius * Math.sin(angle + Math.PI),
      to.x + -(radius + 10) * Math.cos(angle),
      to.y + (radius + 10) * Math.sin(angle),
    ];
  }
  function updateObjects() {
    $('nav').each(function () {
      connectors = $(this).attr('connector').split(',')
      id = $(this).d()
      connectors.forEach((connect, index) => {
        if (connectors[index + 1]) {
          routes.findOne('#' + id + 'connect' + connect.toString()).points(getConnectorPoints(
            legends.findOne('#' + connect.toString()).position(),
            legends.findOne('#' + connectors[index + 1].toString()).position()
          ))
        }
      })
    })
  }
  createlines()
  function createlines() {
    $('nav').each(function () {
      connectors = $(this).attr('connector').split(',')
      id = $(this).d()
      connectors.forEach((connect, index) => {
        if (connectors[index + 1]) {
          var line = new Konva.Arrow({
            strokeWidth: 15,
            stroke: '#0080ff',
            id: id + 'connect' + connect,
            fill: '#0080ff',
          });
          routes.add(line);
        }
      })
    })
  }
  function updateroute(updatelist) {
    if (updatelist) {
      $('nav').each(function () {
        temp = ''
        $(this).find('aside').each(function () { temp += $(this).d() + ',' })
        $(this).attr('connector', temp.slice(0, -1))
      })
    }
    routes.destroyChildren()
    createlines()
    updateObjects();
  }
  function checkShapes(SIZE) {
    const startX = Math.floor((-stage.x() - stage.width()) / stage.scaleX() / SIZE) * SIZE
    const endX = Math.floor((-stage.x() + stage.width() * 2) / stage.scaleX() / SIZE) * SIZE
    const startY = Math.floor((-stage.y() - stage.height()) / stage.scaleX() / SIZE) * SIZE
    const endY = Math.floor((-stage.y() + stage.height() * 2) / stage.scaleX() / SIZE) * SIZE
    for (var x = startX; x < endX; x += SIZE) {
      for (var y = startY; y < endY; y += SIZE) {
        layer.add(new Konva.Rect({
          x, y, width: SIZE, height: SIZE,
          stroke: '#e6e6e6',
          strokeWidth: 1
        }))
      }
    }
    stage.batchDraw()
  }//checkShapes
  function searching() {
    target = $('#sortable').find('aside p:contains(' + $('#header input').val() + '):not(nav aside)').first().parent()
 wpdesc(target)
  }

  function simulation(newwp) {
    solves.find('Line').forEach(function (e) { e.destroy() })
    if (!solution) {
      cities = []
      $('#solverbar aside').each(function () { cities.push([$(this).attr('datax'), $(this).attr('datay'), $(this).d()]) })
    } else cities = solution.concat([newwp])
    if (cities.length == 1) return console.log('Only 1')
    for (var tour = [], x = 0; tour.length < cities.length; x++)tour.push(x)
    console.log(parseInt(iteration * cities.length ** 1.1))
    logspace(5, 0, parseInt(iteration * cities.length ** 1.1)).forEach(function (temperature) {
      [i, j] = Array.from({ length: cities.length }, (v, k) => k).sort(function () { return .5 - Math.random() }).slice(0, 2).sort(function (a, b) { return a - b })
      newTour = tour.slice(0, i).concat(tour.slice(j, j + 1), tour.slice(i + 1, j), tour.slice(i, i + 1), tour.slice(j + 1, cities.length))
      olddistance = [j, j - 1, i, i - 1].map(k => Math.sqrt([0, 1].map(d => (cities[tour[Number(((k + 1) - (Math.floor((k + 1) / cities.length) * cities.length)).toPrecision(8))]][d] - cities[tour[Number((k - (Math.floor(k / cities.length) * cities.length)).toPrecision(8))]][d]) ** 2).reduce((sum, a) => sum + a, 0)))
      newdistance = [j, j - 1, i, i - 1].map(k => Math.sqrt([0, 1].map(d => (cities[newTour[Number(((k + 1) - (Math.floor((k + 1) / cities.length) * cities.length)).toPrecision(8))]][d] - cities[newTour[Number((k - (Math.floor(k / cities.length) * cities.length)).toPrecision(8))]][d]) ** 2).reduce((sum, a) => sum + a, 0)))
      temp = olddistance.reduce((sum, a) => sum + a, 0) - newdistance.reduce((sum, a) => sum + a, 0)
      if (Math.exp(temp / temperature) > Math.random()) tour = newTour
    })
    solution = [...Array(cities.length).keys()].map(i => cities[tour[i % cities.length]])
    for (var m = 0, gaps = []; m < cities.length; m++) {
      if (m != cities.length - 1) {
        gaps.push(distance(m, m + 1))
      }
    }
    biggestgap = gaps.indexOf(Math.max(...gaps))
    solution = solution.slice(biggestgap + 1, solution.length).concat(solution.slice(0, biggestgap + 1))
    //final solution
    solves.find('Line').forEach(function (e) { e.destroy() })
    solution.forEach(function (coord, index) {
      if (solution[index + 1]) {
        var line = new Konva.Line({
          strokeWidth: 5,
          stroke: 'darkblue',
        });
        solves.add(line);
        line.moveToTop()
        line.points([solution[index][0], solution[index][1], solution[index + 1][0], solution[index + 1][1]])
      }
      $('#solverbar td.' + solution[index][2]).parent().attr('order', index)
    })
    layer.batchDraw()
    $('#solverbar tr').sort((a, b) => $(a).attr("order") - $(b).attr("order")).appendTo("#solverbar table");
  }//simulation
  function logspace(a, b, len) {
    end = len - 1;
    d = (b - a) / end;
    arr = new Array(len);
    tmp = a;
    arr[0] = Math.pow(10, tmp);
    for (var i = 1; i < end; i++) {
      tmp += d;
      arr[i] = Math.pow(10, tmp);
    }
    arr[end] = Math.pow(10, b);
    return arr
  }
  function distance(p, q) {
    return Math.sqrt([0, 1].map(d => (solution[p][d] - solution[q][d]) ** 2).reduce((sum, a) => sum + a, 0))
  }
  function copy() {
    var $temp = $("<input>");
    $("body").append($temp);
    $temp.val('http://fandommap.com/' + data.id).select();
    document.execCommand("copy");
    $temp.remove();
  }
  function solverbarbtn() {
    $('#solverbar').toggle("slide", { direction: 'right' })
    eachrightyhide('#solverbar')
  }
  function wpdesc(wpaside) {
    if (mobile || verticalwindow) $('#sidebar').hide()
    eachrightyhide()
    $('#descriptionbar').removeClass('fandom')
    if (wpaside.attr('desc') == false || typeof (wpaside.attr('desc')) == 'undefined' || wpaside.attr('desc') == 'off') {
    }
    else if (wpaside.attr('desc').startsWith('URL')) {
      url = decodeURIComponent(escape(window.atob(wpaside.attr('desc').substring(3))))
      $('#descriptionbar>h2').html('<a href="' + url + '">' + wpaside.find('p').html() + ' 🔗</a>')
      if (url.includes("fandom.com")) {
        $('#descriptionbar').addClass('fandom')
        url += '?action=render'
      }
      $('#desciption').html('<iframe src="' + url + '"></ifrmae>')
      $('#descriptionbar').toggle("slide", { direction: 'right' })
    }
    else {
      $('#descriptionbar>h2').html(wpaside.find('p').html())
      $('#desciption').html(new showdown.Converter().makeHtml(decodeURIComponent(escape(window.atob(wpaside.attr('desc'))))))
      $('#descriptionbar').toggle("slide", { direction: 'right' })
    }
  
    stage.scaleX(0.5)
    stage.scaleY(0.5)

    stage.x(((-wpaside.attr('datax')) * 2 * stage.scaleX() + stage.width()) / 2)
    stage.y(((-wpaside.attr('datay')) * 2 * stage.scaleX() + stage.height()) / 2)
    tooltip.position({
      x: wpaside.attr('datax'),
      y: wpaside.attr('datay'),
    });
    tooltip.text(wpaside.find('p').html());
    tooltip.show();
    function timeFunction() {
      setTimeout(function () {
        tooltip.hide();
      }, 5000)
    }
    timeFunction()
  }
  function wpopt(aside) {
    eachrightyhide()
    $('#notmapinfo').show()
    $('#mapinfooption,#optroute,.cb,.spic').hide()
    $('#optx').val(aside.attr('dataX'))
    $('#opty').val(aside.attr('dataY'))
    $('.waypointed').show()
    $('#descriptionbar').removeClass('fandom')
    if (aside.attr('desc') == false || typeof (aside.attr('desc')) == 'undefined' || aside.attr('desc') == 'off') {
      toggled(0)
      $('#descwebsite>input').val('')
      $('#descwebsite textarea').val('')
      $('#desciption').html('')
    }
    else if (aside.attr('desc').startsWith('URL')) {
      $('#descwebsite textarea').val('')
      toggled(2)
      $('#descwebsite>input').val(decodeURIComponent(escape(window.atob(aside.attr('desc').substring(3)))))
      url = decodeURIComponent(escape(window.atob(aside.attr('desc').substring(3))))
      if (url.includes("fandom.com")) {
        $('#descriptionbar').addClass('fandom')
        url += '?action=render'
      }
      $('#desciption').html('<iframe src="' + url + '"></ifrmae>')
    }
    else {
      $('#descwebsite>input').val('')
      $('#preview').html(new showdown.Converter().makeHtml(decodeURIComponent(escape(window.atob(aside.attr('desc'))))))
      $('textarea').val(decodeURIComponent(escape(window.atob(aside.attr('desc')))))
      toggled(1)
    }
    $('#optname').val(aside.find('p').html())
    $('#optionbar').toggle("slide", { direction: 'right' })
    option = aside
    text = aside.find('p')
  }
  var scrollWait = 300;
function isInv(el) {
    var wt=$('#sidebar').scrollTop(),et=$(el).offset().top
    return (($(window).innerHeight()+wt)<=et||wt>=(et+$(el).innerHeight()))
}
function check(e){e.each(function(){$(this)[(isInv(this)?'add':'remove')+'Class']('inv')})}
$.fn.visible = function () {
    var e=this,scrollTimer = null;
    check(e);
    $('#sidebar').on("scroll resize", function(){
        clearTimeout(scrollTimer);
        scrollTimer = setTimeout(function(){check(e)},scrollWait);
    });
    return this;
};
$('#sortable>div,nav,#sortable>aside').visible();

$(document).on('mouseenter', '#mapinfo p:nth-child(n7)', function () {
  $(this).attr('title','Click to Copy Link')
})
function swap(aside,filename){
  aside.each(function (item) {
var temp = $(this)
if (!temp.is('nav>div>aside')) {
legends.findOne('#'+temp.d()).destroy()
Konva.Image.fromURL('/static/'+filename, function (wp) {
    wp.setAttrs({
      x: parseFloat(temp.attr('datax')),
      y: parseFloat(temp.attr('datay')),
      id: temp.attr('id'),
      shadowColor: 'black',
      shadowBlur: 15,
      shadowOffset: { x: 0, y: -10 },
      shadowOpacity: 0,
      offsetX: 33,
      offsetY: 48,
    })
    legends.add(wp)
    wpevents(wp, temp)
  })
}
}).promise().done(function () {
function loadSprite(src, callback) {
  var sprite = new Image();
  sprite.onload = callback;
  sprite.src = src;
}
loadSprite('static/'+filename, function () {
  updateroute()
});
})//done
legends.batchDraw()
}

function forceupdate(){
  $('#sortable').find('select').each(function () {
                  if ($(this).data('select2')) $(this).select2('destroy')
                })
                $('#sortable>div>div').css('padding-bottom', '0')
                $('nav>select').next(".select2-container").hide()
                $.ajax({ data: { json: JSON.stringify(json), id: data.id, sortable: $('#sortable').html(), name: $('#mapinfo').find('h2').text(), visibility: data.visibility }, type: 'POST', url: '/$update' }).done(function (data) {
                  console.log('updated')
                })
                $('#sortable>div>div').css('padding-bottom', '20%')
                $('nav>select').next(".select2-container").show()
                $('#sortable').find('select').each(function () {
                  selectevent($(this))
                })
                checkupdate = false
}
</script><iframe id="ssIFrame_google" sandbox="allow-scripts allow-same-origin" aria-hidden="true" frame-border="0" style="position: absolute; width: 1px; height: 1px; inset: -9999px; display: none;" src="./1_files/iframe.html"></iframe></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>